<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />




<title>Comparaison inter-communes</title>

<script src="site_libs/header-attrs-2.9/header-attrs.js"></script>
<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/united.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="site_libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<script src="site_libs/kePrint-0.0.1/kePrint.js"></script>
<link href="site_libs/lightable-0.0.1/lightable.css" rel="stylesheet" />
<link href="site_libs/font-awesome-5.1.0/css/all.css" rel="stylesheet" />
<link href="site_libs/font-awesome-5.1.0/css/v4-shims.css" rel="stylesheet" />

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>


<style type="text/css">
  code {
    white-space: pre;
  }
  .sourceCode {
    overflow: visible;
  }
</style>
<style type="text/css" data-origin="pandoc">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  background-color: #f8f8f8; }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ef2929; } /* Alert */
code span.an { color: #8f5902; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #c4a000; } /* Attribute */
code span.bn { color: #0000cf; } /* BaseN */
code span.cf { color: #204a87; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4e9a06; } /* Char */
code span.cn { color: #000000; } /* Constant */
code span.co { color: #8f5902; font-style: italic; } /* Comment */
code span.cv { color: #8f5902; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #8f5902; font-weight: bold; font-style: italic; } /* Documentation */
code span.dt { color: #204a87; } /* DataType */
code span.dv { color: #0000cf; } /* DecVal */
code span.er { color: #a40000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #0000cf; } /* Float */
code span.fu { color: #000000; } /* Function */
code span.im { } /* Import */
code span.in { color: #8f5902; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #204a87; font-weight: bold; } /* Keyword */
code span.op { color: #ce5c00; font-weight: bold; } /* Operator */
code span.ot { color: #8f5902; } /* Other */
code span.pp { color: #8f5902; font-style: italic; } /* Preprocessor */
code span.sc { color: #000000; } /* SpecialChar */
code span.ss { color: #4e9a06; } /* SpecialString */
code span.st { color: #4e9a06; } /* String */
code span.va { color: #000000; } /* Variable */
code span.vs { color: #4e9a06; } /* VerbatimString */
code span.wa { color: #8f5902; font-weight: bold; font-style: italic; } /* Warning */

</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    for (var j = 0; j < rules.length; j++) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") continue;
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' && rule.style.backgroundColor === '') continue;
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>







<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
pre code {
  padding: 0;
}
</style>


<style type="text/css">
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #adb5bd;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script type="text/javascript">
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.tab('show');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');

  // Navbar adjustments
  var navHeight = $(".navbar").first().height() + 15;
  var style = document.createElement('style');
  var pt = "padding-top: " + navHeight + "px; ";
  var mt = "margin-top: -" + navHeight + "px; ";
  var css = "";
  // offset scroll position for anchor links (for fixed navbar)
  for (var i = 1; i <= 6; i++) {
    css += ".section h" + i + "{ " + pt + mt + "}\n";
  }
  style.innerHTML = "body {" + pt + "padding-bottom: 40px; }\n" + css;
  document.head.appendChild(style);
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->



<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}

@media print {
.toc-content {
  /* see https://github.com/w3c/csswg-drafts/issues/4434 */
  float: right;
}
}

.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>



</head>

<body>


<div class="container-fluid main-container">


<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-inverse  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html"></a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">Accueil</a>
</li>
<li>
  <a href="prepadonnees.html">Préparation des données</a>
</li>
<li>
  <a href="synthese.html">Synthèse à la commune</a>
</li>
<li>
  <a href="compar.html">Comparaison</a>
</li>
<li>
  <a href="about.html">À propos</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/riateStage/airdna_laurian">
    <span class="fa fa-github"></span>
     
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div id="header">



<h1 class="title toc-ignore">Comparaison inter-communes</h1>

</div>


<p>Cette partie permet de mettre en vis-à-vis les performances d’Airbnb entre deux communes. La superposition d’indicateurs et de courbes permet de mieux détecter les similitudes ou bien les différences entre plusieurs marchés. Les indicateurs utilisés sont pour la plupart les mêmes que pour la partie précédente, avec une analyse plus approfondie de la période correspondant à la reprise de l’activité post-Covid. L’hypothèse est la suivante : l’activité d’Airbnb dépend des contextes locaux des communes. Ainsi, Issy-les-Moulineaux et Pantin, bien que limitrophes, ne présentent pas les mêmes caractéristiques en terme de fréquentation touristique. En effet, Issy-les-Moulineaux est l’une des premières communes où les restrictions en terme de nombre de nuitées réservées sont apparues, tandis que Pantin a fait depuis plusieurs décennies l’objet de grandes opérations de rénovations urbaines, notamment en ce qui concerne l’immobilier.</p>
<p>Le code R qui a permis de générer les représentations graphiques et tableaux est affiché pour la première comparaison communale. Il est exactement identique pour les deux autres commparaisons, à l’exception de l’import des données.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(knitr) <span class="co"># Générer des rapports automatisés</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(rmdformats) <span class="co"># Format du document markdown</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(readr) <span class="co"># Import de fichiers csv</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr) <span class="co"># Manipulation de dataframes</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyr) <span class="co"># pareil</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2) <span class="co"># Production de graphiques</span></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(sf) <span class="co"># Opérations de géotraitement</span></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(RColorBrewer) <span class="co"># Palettes de couleurs</span></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(kableExtra) <span class="co"># Faire des beau tableaux</span></span></code></pre></div>
<p><br></p>
<div id="pantin---issy" class="section level1" number="1">
<h1 number="1"><span class="header-section-number">1</span> Pantin - Issy</h1>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="co"># seuls les paramètres de ce chunk sont à changer</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>periode <span class="ot">&lt;-</span> <span class="dv">2019</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>periode2 <span class="ot">&lt;-</span> <span class="dv">2020</span></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>com1_nom <span class="ot">&lt;-</span> <span class="st">&quot;Pantin&quot;</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>com2_nom <span class="ot">&lt;-</span> <span class="st">&quot;Issy&quot;</span></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>com1_codeinsee <span class="ot">&lt;-</span> <span class="dv">93055</span></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>com2_codeinsee <span class="ot">&lt;-</span> <span class="dv">92040</span></span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a>com1 <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">&quot;data/consolidated/Pantin_individuel.csv&quot;</span>)</span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a>com1_mensuel <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">&quot;data/consolidated/Pantin_mensuel.csv&quot;</span>)</span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a>com1_sf <span class="ot">&lt;-</span> <span class="fu">st_read</span>(<span class="st">&quot;data/consolidated/Pantin.gpkg&quot;</span>, <span class="at">layer =</span> <span class="st">&quot;Pantin_individuel_sf&quot;</span>, <span class="at">quiet =</span> <span class="cn">TRUE</span>)</span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a>com1_hotel <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">&quot;data/insee/hotels_Pantin.csv&quot;</span>)</span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a>com1_log <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">&quot;data/insee/log_Pantin.csv&quot;</span>)</span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true" tabindex="-1"></a>com2 <span class="ot">&lt;-</span>  <span class="fu">read_csv</span>(<span class="st">&quot;data/consolidated/Issy_individuel.csv&quot;</span>)</span>
<span id="cb2-16"><a href="#cb2-16" aria-hidden="true" tabindex="-1"></a>com2_mensuel <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">&quot;data/consolidated/Issy_mensuel.csv&quot;</span>)</span>
<span id="cb2-17"><a href="#cb2-17" aria-hidden="true" tabindex="-1"></a>com2_sf <span class="ot">&lt;-</span> <span class="fu">st_read</span>(<span class="st">&quot;data/consolidated/Issy.gpkg&quot;</span>, <span class="at">layer =</span> <span class="st">&quot;Issy_individuel_sf&quot;</span>, <span class="at">quiet =</span> <span class="cn">TRUE</span>)</span>
<span id="cb2-18"><a href="#cb2-18" aria-hidden="true" tabindex="-1"></a>com2_hotel <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">&quot;data/insee/hotels_Issy.csv&quot;</span>)</span>
<span id="cb2-19"><a href="#cb2-19" aria-hidden="true" tabindex="-1"></a>com2_log <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">&quot;data/insee/log_Issy.csv&quot;</span>)</span></code></pre></div>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="co"># On ajoute le nom de la ville et on stocke les tableaux de départ dans des dataframes ref</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>com1<span class="sc">$</span>ville <span class="ot">&lt;-</span> com1_nom</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>com1_mensuel<span class="sc">$</span>ville <span class="ot">&lt;-</span> com1_nom</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>com2<span class="sc">$</span>ville <span class="ot">&lt;-</span> com2_nom</span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>com2_mensuel<span class="sc">$</span>ville <span class="ot">&lt;-</span> com2_nom</span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>com1_ref <span class="ot">&lt;-</span> com1</span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>com1_mensuel_ref <span class="ot">&lt;-</span> com1_mensuel</span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>com2_ref <span class="ot">&lt;-</span> com2</span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>com2_mensuel_ref <span class="ot">&lt;-</span> com2_mensuel</span></code></pre></div>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="co"># On ne sélectionne que l&#39;année 2019</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>com1_mensuel <span class="ot">&lt;-</span> com1_mensuel <span class="sc">%&gt;%</span> <span class="fu">filter</span>(year <span class="sc">==</span> periode)</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>com1 <span class="ot">&lt;-</span> com1_mensuel <span class="sc">%&gt;%</span> <span class="fu">select</span>(<span class="sc">-</span>mois, <span class="sc">-</span><span class="st">`</span><span class="at">Occupancy Rate</span><span class="st">`</span>, <span class="sc">-</span>Active, <span class="sc">-</span>year, <span class="sc">-</span>month, <span class="sc">-</span>day,</span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>                                          <span class="sc">-</span>activite, <span class="sc">-</span>actif, <span class="sc">-</span>duree, <span class="sc">-</span>tauxfreq)</span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>com1 <span class="ot">&lt;-</span> com1 <span class="sc">%&gt;%</span> <span class="fu">group_by</span>(id_logement) <span class="sc">%&gt;%</span></span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">type =</span> type, <span class="at">rev_tot =</span> <span class="fu">sum</span>(revenus_mois), <span class="at">rev_nuitee =</span> <span class="fu">mean</span>(revenus_nuitee, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a>            <span class="at">nb_resa =</span> <span class="fu">sum</span>(nb_resa), <span class="at">nb_nuitees =</span> <span class="fu">sum</span>(nb_nuitees), <span class="at">nb_dispo =</span> <span class="fu">sum</span>(nb_dispo),</span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a>            <span class="at">nb_bloques =</span> <span class="fu">sum</span>(nb_bloques), <span class="at">Latitude =</span> Latitude, <span class="at">Longitude =</span> Longitude,</span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a>            <span class="at">id_hote =</span> id_hote)</span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a>com1 <span class="ot">&lt;-</span> com1 <span class="sc">%&gt;%</span> <span class="fu">unique</span>()</span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a><span class="co"># réestimation du taux de fréquentation et de la durée des séjours</span></span>
<span id="cb4-13"><a href="#cb4-13" aria-hidden="true" tabindex="-1"></a>com1<span class="sc">$</span>tauxfreq <span class="ot">&lt;-</span> com1<span class="sc">$</span>nb_nuitees <span class="sc">/</span> (com1<span class="sc">$</span>nb_nuitees <span class="sc">+</span> com1<span class="sc">$</span>nb_dispo)</span>
<span id="cb4-14"><a href="#cb4-14" aria-hidden="true" tabindex="-1"></a>com1<span class="sc">$</span>tauxfreq <span class="ot">&lt;-</span> com1<span class="sc">$</span>tauxfreq <span class="sc">%&gt;%</span> <span class="fu">round</span>(<span class="at">digits =</span> <span class="dv">2</span>)</span>
<span id="cb4-15"><a href="#cb4-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-16"><a href="#cb4-16" aria-hidden="true" tabindex="-1"></a>com1<span class="sc">$</span>duree <span class="ot">&lt;-</span> com1<span class="sc">$</span>nb_nuitees <span class="sc">/</span> com1<span class="sc">$</span>nb_resa</span>
<span id="cb4-17"><a href="#cb4-17" aria-hidden="true" tabindex="-1"></a>com1<span class="sc">$</span>duree <span class="ot">&lt;-</span> com1<span class="sc">$</span>duree <span class="sc">%&gt;%</span> <span class="fu">round</span>(<span class="at">digits =</span> <span class="dv">2</span>)</span>
<span id="cb4-18"><a href="#cb4-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-19"><a href="#cb4-19" aria-hidden="true" tabindex="-1"></a><span class="co"># ajout de la colonne prix et prixpers via le tableau individuel_clean</span></span>
<span id="cb4-20"><a href="#cb4-20" aria-hidden="true" tabindex="-1"></a>com1 <span class="ot">&lt;-</span> <span class="fu">merge</span>(com1, com1_ref, <span class="at">by =</span> <span class="st">&quot;id_logement&quot;</span>, <span class="at">all.x =</span> <span class="cn">TRUE</span>)</span>
<span id="cb4-21"><a href="#cb4-21" aria-hidden="true" tabindex="-1"></a>com1 <span class="ot">&lt;-</span> com1 <span class="sc">%&gt;%</span> <span class="fu">select</span>(id_logement, type.x, rev_tot, rev_nuitee, nb_resa, nb_nuitees.x, nb_dispo.x,</span>
<span id="cb4-22"><a href="#cb4-22" aria-hidden="true" tabindex="-1"></a>                        Latitude.x, Longitude.x, id_hote.x, tauxfreq.x, duree, Freq, titre, debut,</span>
<span id="cb4-23"><a href="#cb4-23" aria-hidden="true" tabindex="-1"></a>                        prix, prixpers, Amenities, licence, multi, duree_min, ville)</span>
<span id="cb4-24"><a href="#cb4-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-25"><a href="#cb4-25" aria-hidden="true" tabindex="-1"></a>com1 <span class="ot">&lt;-</span> com1 <span class="sc">%&gt;%</span> <span class="fu">rename</span>(<span class="st">&quot;type&quot;</span> <span class="ot">=</span> <span class="st">&quot;type.x&quot;</span>, <span class="st">&quot;nb_nuitees&quot;</span> <span class="ot">=</span> <span class="st">&quot;nb_nuitees.x&quot;</span>,</span>
<span id="cb4-26"><a href="#cb4-26" aria-hidden="true" tabindex="-1"></a>                            <span class="st">&quot;nb_dispo&quot;</span> <span class="ot">=</span> <span class="st">&quot;nb_dispo.x&quot;</span>, <span class="st">&quot;latitude&quot;</span> <span class="ot">=</span> <span class="st">&quot;Latitude.x&quot;</span>,</span>
<span id="cb4-27"><a href="#cb4-27" aria-hidden="true" tabindex="-1"></a>                            <span class="st">&quot;longitude&quot;</span> <span class="ot">=</span> <span class="st">&quot;Longitude.x&quot;</span>, <span class="st">&quot;id_hote&quot;</span> <span class="ot">=</span> <span class="st">&quot;id_hote.x&quot;</span>,</span>
<span id="cb4-28"><a href="#cb4-28" aria-hidden="true" tabindex="-1"></a>                            <span class="st">&quot;tauxfreq&quot;</span> <span class="ot">=</span> <span class="st">&quot;tauxfreq.x&quot;</span>)</span>
<span id="cb4-29"><a href="#cb4-29" aria-hidden="true" tabindex="-1"></a>com1 <span class="ot">&lt;-</span> com1 <span class="sc">%&gt;%</span> <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(prix))</span>
<span id="cb4-30"><a href="#cb4-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-31"><a href="#cb4-31" aria-hidden="true" tabindex="-1"></a><span class="co"># on transforme en objet sf en joignant l&#39;id carre</span></span>
<span id="cb4-32"><a href="#cb4-32" aria-hidden="true" tabindex="-1"></a>join <span class="ot">&lt;-</span> com1_sf <span class="sc">%&gt;%</span> <span class="fu">select</span>(id_logement, id_carre, id_iris)</span>
<span id="cb4-33"><a href="#cb4-33" aria-hidden="true" tabindex="-1"></a>com1_sf <span class="ot">&lt;-</span> <span class="fu">left_join</span>(com1, join, <span class="at">by =</span> <span class="st">&quot;id_logement&quot;</span>)</span>
<span id="cb4-34"><a href="#cb4-34" aria-hidden="true" tabindex="-1"></a>com1_sf <span class="ot">&lt;-</span> com1_sf <span class="sc">%&gt;%</span> <span class="fu">select</span>(<span class="sc">-</span>geom)</span>
<span id="cb4-35"><a href="#cb4-35" aria-hidden="true" tabindex="-1"></a>com1_sf <span class="ot">&lt;-</span> <span class="fu">st_as_sf</span>(com1_sf, <span class="at">coords =</span> <span class="fu">c</span>(<span class="st">&quot;longitude&quot;</span>, <span class="st">&quot;latitude&quot;</span>), <span class="at">crs =</span> <span class="dv">4326</span>)</span>
<span id="cb4-36"><a href="#cb4-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-37"><a href="#cb4-37" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-38"><a href="#cb4-38" aria-hidden="true" tabindex="-1"></a><span class="co"># même manip pour la com2</span></span>
<span id="cb4-39"><a href="#cb4-39" aria-hidden="true" tabindex="-1"></a>com2_mensuel <span class="ot">&lt;-</span> com2_mensuel <span class="sc">%&gt;%</span> <span class="fu">filter</span>(year <span class="sc">==</span> periode)</span>
<span id="cb4-40"><a href="#cb4-40" aria-hidden="true" tabindex="-1"></a>com2 <span class="ot">&lt;-</span> com2_mensuel <span class="sc">%&gt;%</span> <span class="fu">select</span>(<span class="sc">-</span>mois, <span class="sc">-</span><span class="st">`</span><span class="at">Occupancy Rate</span><span class="st">`</span>, <span class="sc">-</span>Active, <span class="sc">-</span>year, <span class="sc">-</span>month, <span class="sc">-</span>day,</span>
<span id="cb4-41"><a href="#cb4-41" aria-hidden="true" tabindex="-1"></a>                                          <span class="sc">-</span>activite, <span class="sc">-</span>actif, <span class="sc">-</span>duree, <span class="sc">-</span>tauxfreq)</span>
<span id="cb4-42"><a href="#cb4-42" aria-hidden="true" tabindex="-1"></a>com2 <span class="ot">&lt;-</span> com2 <span class="sc">%&gt;%</span> <span class="fu">group_by</span>(id_logement) <span class="sc">%&gt;%</span></span>
<span id="cb4-43"><a href="#cb4-43" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">type =</span> type, <span class="at">rev_tot =</span> <span class="fu">sum</span>(revenus_mois), <span class="at">rev_nuitee =</span> <span class="fu">mean</span>(revenus_nuitee, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb4-44"><a href="#cb4-44" aria-hidden="true" tabindex="-1"></a>            <span class="at">nb_resa =</span> <span class="fu">sum</span>(nb_resa), <span class="at">nb_nuitees =</span> <span class="fu">sum</span>(nb_nuitees), <span class="at">nb_dispo =</span> <span class="fu">sum</span>(nb_dispo),</span>
<span id="cb4-45"><a href="#cb4-45" aria-hidden="true" tabindex="-1"></a>            <span class="at">nb_bloques =</span> <span class="fu">sum</span>(nb_bloques), <span class="at">Latitude =</span> Latitude, <span class="at">Longitude =</span> Longitude,</span>
<span id="cb4-46"><a href="#cb4-46" aria-hidden="true" tabindex="-1"></a>            <span class="at">id_hote =</span> id_hote)</span>
<span id="cb4-47"><a href="#cb4-47" aria-hidden="true" tabindex="-1"></a>com2 <span class="ot">&lt;-</span> com2 <span class="sc">%&gt;%</span> <span class="fu">unique</span>()</span>
<span id="cb4-48"><a href="#cb4-48" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-49"><a href="#cb4-49" aria-hidden="true" tabindex="-1"></a>com2<span class="sc">$</span>tauxfreq <span class="ot">&lt;-</span> com2<span class="sc">$</span>nb_nuitees <span class="sc">/</span> (com2<span class="sc">$</span>nb_nuitees <span class="sc">+</span> com2<span class="sc">$</span>nb_dispo)</span>
<span id="cb4-50"><a href="#cb4-50" aria-hidden="true" tabindex="-1"></a>com2<span class="sc">$</span>tauxfreq <span class="ot">&lt;-</span> com2<span class="sc">$</span>tauxfreq <span class="sc">%&gt;%</span> <span class="fu">round</span>(<span class="at">digits =</span> <span class="dv">2</span>)</span>
<span id="cb4-51"><a href="#cb4-51" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-52"><a href="#cb4-52" aria-hidden="true" tabindex="-1"></a>com2<span class="sc">$</span>duree <span class="ot">&lt;-</span> com2<span class="sc">$</span>nb_nuitees <span class="sc">/</span> com2<span class="sc">$</span>nb_resa</span>
<span id="cb4-53"><a href="#cb4-53" aria-hidden="true" tabindex="-1"></a>com2<span class="sc">$</span>duree <span class="ot">&lt;-</span> com2<span class="sc">$</span>duree <span class="sc">%&gt;%</span> <span class="fu">round</span>(<span class="at">digits =</span> <span class="dv">2</span>)</span>
<span id="cb4-54"><a href="#cb4-54" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-55"><a href="#cb4-55" aria-hidden="true" tabindex="-1"></a>com2 <span class="ot">&lt;-</span> <span class="fu">merge</span>(com2, com2_ref, <span class="at">by =</span> <span class="st">&quot;id_logement&quot;</span>, <span class="at">all.x =</span> <span class="cn">TRUE</span>)</span>
<span id="cb4-56"><a href="#cb4-56" aria-hidden="true" tabindex="-1"></a>com2 <span class="ot">&lt;-</span> com2 <span class="sc">%&gt;%</span> <span class="fu">select</span>(id_logement, type.x, rev_tot, rev_nuitee, nb_resa, nb_nuitees.x, nb_dispo.x,</span>
<span id="cb4-57"><a href="#cb4-57" aria-hidden="true" tabindex="-1"></a>                        Latitude.x, Longitude.x, id_hote.x, tauxfreq.x, duree, Freq, titre, debut,</span>
<span id="cb4-58"><a href="#cb4-58" aria-hidden="true" tabindex="-1"></a>                        prix, prixpers, Amenities, licence, multi, duree_min, ville)</span>
<span id="cb4-59"><a href="#cb4-59" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-60"><a href="#cb4-60" aria-hidden="true" tabindex="-1"></a>com2 <span class="ot">&lt;-</span> com2 <span class="sc">%&gt;%</span> <span class="fu">rename</span>(<span class="st">&quot;type&quot;</span> <span class="ot">=</span> <span class="st">&quot;type.x&quot;</span>, <span class="st">&quot;nb_nuitees&quot;</span> <span class="ot">=</span> <span class="st">&quot;nb_nuitees.x&quot;</span>,</span>
<span id="cb4-61"><a href="#cb4-61" aria-hidden="true" tabindex="-1"></a>                            <span class="st">&quot;nb_dispo&quot;</span> <span class="ot">=</span> <span class="st">&quot;nb_dispo.x&quot;</span>, <span class="st">&quot;latitude&quot;</span> <span class="ot">=</span> <span class="st">&quot;Latitude.x&quot;</span>,</span>
<span id="cb4-62"><a href="#cb4-62" aria-hidden="true" tabindex="-1"></a>                            <span class="st">&quot;longitude&quot;</span> <span class="ot">=</span> <span class="st">&quot;Longitude.x&quot;</span>, <span class="st">&quot;id_hote&quot;</span> <span class="ot">=</span> <span class="st">&quot;id_hote.x&quot;</span>,</span>
<span id="cb4-63"><a href="#cb4-63" aria-hidden="true" tabindex="-1"></a>                            <span class="st">&quot;tauxfreq&quot;</span> <span class="ot">=</span> <span class="st">&quot;tauxfreq.x&quot;</span>)</span>
<span id="cb4-64"><a href="#cb4-64" aria-hidden="true" tabindex="-1"></a>com2 <span class="ot">&lt;-</span> com2 <span class="sc">%&gt;%</span> <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(prix))</span>
<span id="cb4-65"><a href="#cb4-65" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-66"><a href="#cb4-66" aria-hidden="true" tabindex="-1"></a>join <span class="ot">&lt;-</span> com2_sf <span class="sc">%&gt;%</span> <span class="fu">select</span>(id_logement, id_carre, id_iris)</span>
<span id="cb4-67"><a href="#cb4-67" aria-hidden="true" tabindex="-1"></a>com2_sf <span class="ot">&lt;-</span> <span class="fu">left_join</span>(com2, join, <span class="at">by =</span> <span class="st">&quot;id_logement&quot;</span>)</span>
<span id="cb4-68"><a href="#cb4-68" aria-hidden="true" tabindex="-1"></a>com2_sf <span class="ot">&lt;-</span> com2_sf <span class="sc">%&gt;%</span> <span class="fu">select</span>(<span class="sc">-</span>geom)</span>
<span id="cb4-69"><a href="#cb4-69" aria-hidden="true" tabindex="-1"></a>com2_sf <span class="ot">&lt;-</span> <span class="fu">st_as_sf</span>(com2_sf, <span class="at">coords =</span> <span class="fu">c</span>(<span class="st">&quot;longitude&quot;</span>, <span class="st">&quot;latitude&quot;</span>), <span class="at">crs =</span> <span class="dv">4326</span>)</span>
<span id="cb4-70"><a href="#cb4-70" aria-hidden="true" tabindex="-1"></a><span class="fu">rm</span>(join)</span></code></pre></div>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>com1_actifs <span class="ot">&lt;-</span> com1 <span class="sc">%&gt;%</span> <span class="fu">filter</span>(nb_dispo <span class="sc">&gt;</span> <span class="dv">0</span> <span class="sc">|</span> nb_nuitees <span class="sc">&gt;</span> <span class="dv">0</span>)</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>com1_reserves <span class="ot">&lt;-</span> com1 <span class="sc">%&gt;%</span> <span class="fu">filter</span>(nb_nuitees <span class="sc">&gt;</span> <span class="dv">0</span> <span class="sc">&amp;</span> nb_resa <span class="sc">&gt;</span> <span class="dv">0</span>)</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>com2_actifs <span class="ot">&lt;-</span> com2 <span class="sc">%&gt;%</span> <span class="fu">filter</span>(nb_dispo <span class="sc">&gt;</span> <span class="dv">0</span> <span class="sc">|</span> nb_nuitees <span class="sc">&gt;</span> <span class="dv">0</span>)</span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>com2_reserves <span class="ot">&lt;-</span> com2 <span class="sc">%&gt;%</span> <span class="fu">filter</span>(nb_nuitees <span class="sc">&gt;</span> <span class="dv">0</span> <span class="sc">&amp;</span> nb_resa <span class="sc">&gt;</span> <span class="dv">0</span>)</span></code></pre></div>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="co"># petites phrases pour les comparaisons</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>comparhotel <span class="ot">&lt;-</span> <span class="st">&quot; &quot;</span></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span>(<span class="fu">nrow</span>(com1) <span class="sc">&gt;</span> com1_hotel[<span class="dv">1</span>,<span class="dv">12</span>] <span class="sc">&amp;</span> <span class="fu">nrow</span>(com2) <span class="sc">&gt;</span> com2_hotel[<span class="dv">1</span>,<span class="dv">12</span>]){</span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>  comparhotel <span class="ot">&lt;-</span> <span class="st">&quot;Les deux communes comptent donc plus de logements Airbnb que de chambres d&#39;hôtel.&quot;</span></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>  } <span class="cf">else</span> <span class="cf">if</span>(<span class="fu">nrow</span>(com1) <span class="sc">&lt;</span> com1_hotel[<span class="dv">1</span>,<span class="dv">12</span>] <span class="sc">&amp;</span> <span class="fu">nrow</span>(com2) <span class="sc">&lt;</span> com2_hotel[<span class="dv">1</span>,<span class="dv">12</span>]){</span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>  comparhotel <span class="ot">&lt;-</span> <span class="st">&quot;Les hôtels sont encore majoritaires dans les deux communes.&quot;</span></span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a>  }</span></code></pre></div>
<p>Cette section a pour objectif de comparer les performances et l’activité des logements Airbnb entre deux communes données, ici Pantin et Issy. Ces deux communes concentrent respectivement 1238 et 1153 logements Airbnb en 2019, pour 609 et 848 chambres d’hôtel. Les deux communes comptent donc plus de logements Airbnb que de chambres d’hôtel. Les logements Airbnb représentent respectivement 4.7 et 3.2% de la totalité des logements des communes de Pantin et Issy.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="co"># tableaux</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>nblog <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="fu">matrix</span>(<span class="at">ncol =</span> <span class="dv">7</span>, <span class="at">nrow =</span> <span class="dv">3</span>))</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(nblog) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fu">paste</span>(<span class="st">&quot;Indicateur (&quot;</span>, periode ,<span class="st">&quot;)&quot;</span>), com1_nom, com2_nom, com1_nom, com2_nom, com1_nom, com2_nom)</span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>nblog[ ,<span class="dv">1</span>] <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;Nombre total de logements&quot;</span>, <span class="st">&quot;Nombre de logements actifs&quot;</span>, <span class="st">&quot;Nombre de logements réservés&quot;</span>)</span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>nblog[<span class="dv">1</span>,<span class="dv">2</span>] <span class="ot">&lt;-</span> <span class="fu">nrow</span>(com1)</span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a>nblog[<span class="dv">2</span>,<span class="dv">2</span>] <span class="ot">&lt;-</span> <span class="fu">nrow</span>(com1_actifs)</span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a>nblog[<span class="dv">3</span>,<span class="dv">2</span>] <span class="ot">&lt;-</span> <span class="fu">nrow</span>(com1_reserves)</span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a>nblog[<span class="dv">1</span>,<span class="dv">3</span>] <span class="ot">&lt;-</span> <span class="fu">nrow</span>(com2)</span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true" tabindex="-1"></a>nblog[<span class="dv">2</span>,<span class="dv">3</span>] <span class="ot">&lt;-</span> <span class="fu">nrow</span>(com2_actifs)</span>
<span id="cb7-12"><a href="#cb7-12" aria-hidden="true" tabindex="-1"></a>nblog[<span class="dv">3</span>,<span class="dv">3</span>] <span class="ot">&lt;-</span> <span class="fu">nrow</span>(com2_reserves)</span>
<span id="cb7-13"><a href="#cb7-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-14"><a href="#cb7-14" aria-hidden="true" tabindex="-1"></a>nblog[<span class="dv">1</span>,<span class="dv">4</span>] <span class="ot">&lt;-</span> <span class="fu">nrow</span>(com1 <span class="sc">%&gt;%</span> <span class="fu">filter</span>(type <span class="sc">==</span> <span class="st">&quot;Entire home/apt&quot;</span>))</span>
<span id="cb7-15"><a href="#cb7-15" aria-hidden="true" tabindex="-1"></a>nblog[<span class="dv">2</span>,<span class="dv">4</span>] <span class="ot">&lt;-</span> <span class="fu">nrow</span>(com1_actifs <span class="sc">%&gt;%</span> <span class="fu">filter</span>(type <span class="sc">==</span> <span class="st">&quot;Entire home/apt&quot;</span>))</span>
<span id="cb7-16"><a href="#cb7-16" aria-hidden="true" tabindex="-1"></a>nblog[<span class="dv">3</span>,<span class="dv">4</span>] <span class="ot">&lt;-</span> <span class="fu">nrow</span>(com1_reserves <span class="sc">%&gt;%</span> <span class="fu">filter</span>(type <span class="sc">==</span> <span class="st">&quot;Entire home/apt&quot;</span>))</span>
<span id="cb7-17"><a href="#cb7-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-18"><a href="#cb7-18" aria-hidden="true" tabindex="-1"></a>nblog[<span class="dv">1</span>,<span class="dv">5</span>] <span class="ot">&lt;-</span> <span class="fu">nrow</span>(com2 <span class="sc">%&gt;%</span> <span class="fu">filter</span>(type <span class="sc">==</span> <span class="st">&quot;Entire home/apt&quot;</span>))</span>
<span id="cb7-19"><a href="#cb7-19" aria-hidden="true" tabindex="-1"></a>nblog[<span class="dv">2</span>,<span class="dv">5</span>] <span class="ot">&lt;-</span> <span class="fu">nrow</span>(com2_actifs <span class="sc">%&gt;%</span> <span class="fu">filter</span>(type <span class="sc">==</span> <span class="st">&quot;Entire home/apt&quot;</span>))</span>
<span id="cb7-20"><a href="#cb7-20" aria-hidden="true" tabindex="-1"></a>nblog[<span class="dv">3</span>,<span class="dv">5</span>] <span class="ot">&lt;-</span> <span class="fu">nrow</span>(com2_reserves <span class="sc">%&gt;%</span> <span class="fu">filter</span>(type <span class="sc">==</span> <span class="st">&quot;Entire home/apt&quot;</span>))</span>
<span id="cb7-21"><a href="#cb7-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-22"><a href="#cb7-22" aria-hidden="true" tabindex="-1"></a>nblog[<span class="dv">1</span>,<span class="dv">6</span>] <span class="ot">&lt;-</span> <span class="fu">nrow</span>(com1 <span class="sc">%&gt;%</span> <span class="fu">filter</span>(type <span class="sc">==</span> <span class="st">&quot;Private room&quot;</span>))</span>
<span id="cb7-23"><a href="#cb7-23" aria-hidden="true" tabindex="-1"></a>nblog[<span class="dv">2</span>,<span class="dv">6</span>] <span class="ot">&lt;-</span> <span class="fu">nrow</span>(com1_actifs <span class="sc">%&gt;%</span> <span class="fu">filter</span>(type <span class="sc">==</span> <span class="st">&quot;Private room&quot;</span>))</span>
<span id="cb7-24"><a href="#cb7-24" aria-hidden="true" tabindex="-1"></a>nblog[<span class="dv">3</span>,<span class="dv">6</span>] <span class="ot">&lt;-</span> <span class="fu">nrow</span>(com1_reserves <span class="sc">%&gt;%</span> <span class="fu">filter</span>(type <span class="sc">==</span> <span class="st">&quot;Private room&quot;</span>))</span>
<span id="cb7-25"><a href="#cb7-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-26"><a href="#cb7-26" aria-hidden="true" tabindex="-1"></a>nblog[<span class="dv">1</span>,<span class="dv">7</span>] <span class="ot">&lt;-</span> <span class="fu">nrow</span>(com2 <span class="sc">%&gt;%</span> <span class="fu">filter</span>(type <span class="sc">==</span> <span class="st">&quot;Private room&quot;</span>))</span>
<span id="cb7-27"><a href="#cb7-27" aria-hidden="true" tabindex="-1"></a>nblog[<span class="dv">2</span>,<span class="dv">7</span>] <span class="ot">&lt;-</span> <span class="fu">nrow</span>(com2_actifs <span class="sc">%&gt;%</span> <span class="fu">filter</span>(type <span class="sc">==</span> <span class="st">&quot;Private room&quot;</span>))</span>
<span id="cb7-28"><a href="#cb7-28" aria-hidden="true" tabindex="-1"></a>nblog[<span class="dv">3</span>,<span class="dv">7</span>] <span class="ot">&lt;-</span> <span class="fu">nrow</span>(com2_reserves <span class="sc">%&gt;%</span> <span class="fu">filter</span>(type <span class="sc">==</span> <span class="st">&quot;Private room&quot;</span>))</span>
<span id="cb7-29"><a href="#cb7-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-30"><a href="#cb7-30" aria-hidden="true" tabindex="-1"></a>nblog[<span class="dv">2</span>,<span class="dv">1</span>] <span class="ot">&lt;-</span> <span class="fu">paste0</span>(nblog[<span class="dv">2</span>,<span class="dv">1</span>], <span class="fu">footnote_marker_alphabet</span>(<span class="dv">1</span>))</span>
<span id="cb7-31"><a href="#cb7-31" aria-hidden="true" tabindex="-1"></a>nblog[<span class="dv">3</span>,<span class="dv">1</span>] <span class="ot">&lt;-</span> <span class="fu">paste0</span>(nblog[<span class="dv">3</span>,<span class="dv">1</span>], <span class="fu">footnote_marker_alphabet</span>(<span class="dv">2</span>))</span>
<span id="cb7-32"><a href="#cb7-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-33"><a href="#cb7-33" aria-hidden="true" tabindex="-1"></a><span class="fu">kable</span>(nblog, <span class="at">align =</span> <span class="st">&quot;c&quot;</span>, <span class="at">escape =</span> F) <span class="sc">%&gt;%</span></span>
<span id="cb7-34"><a href="#cb7-34" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_paper</span>(<span class="at">full_width =</span> F) <span class="sc">%&gt;%</span></span>
<span id="cb7-35"><a href="#cb7-35" aria-hidden="true" tabindex="-1"></a>  <span class="fu">footnote</span>(<span class="at">alphabet =</span> <span class="fu">c</span>(<span class="st">&quot;Un logement est considéré comme actif s&#39;il a été proposé au moins une nuitée sur l&#39;année&quot;</span>, <span class="st">&quot;Un logement est considéré comme réservé s&#39;il a enregistré au moins une réservation au cours de l&#39;année&quot;</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb7-36"><a href="#cb7-36" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_header_above</span>(<span class="at">header =</span> <span class="fu">c</span>(<span class="st">&quot; &quot;</span> <span class="ot">=</span> <span class="dv">1</span>, <span class="st">&quot;Tous les logements&quot;</span> <span class="ot">=</span> <span class="dv">2</span>, <span class="st">&quot;Logements entiers&quot;</span> <span class="ot">=</span> <span class="dv">2</span>,</span>
<span id="cb7-37"><a href="#cb7-37" aria-hidden="true" tabindex="-1"></a>                              <span class="st">&quot;Chambres privées&quot;</span> <span class="ot">=</span> <span class="dv">2</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb7-38"><a href="#cb7-38" aria-hidden="true" tabindex="-1"></a>  <span class="fu">column_spec</span>(<span class="dv">1</span>, <span class="at">bold =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<table class=" lightable-paper" style="font-family: &quot;Arial Narrow&quot;, arial, helvetica, sans-serif; width: auto !important; margin-left: auto; margin-right: auto;border-bottom: 0;">
<thead>
<tr>
<th style="empty-cells: hide;" colspan="1">
</th>
<th style="padding-bottom:0; padding-left:3px;padding-right:3px;text-align: center; " colspan="2">
<div style="border-bottom: 1px solid #00000020; padding-bottom: 5px; ">
Tous les logements
</div>
</th>
<th style="padding-bottom:0; padding-left:3px;padding-right:3px;text-align: center; " colspan="2">
<div style="border-bottom: 1px solid #00000020; padding-bottom: 5px; ">
Logements entiers
</div>
</th>
<th style="padding-bottom:0; padding-left:3px;padding-right:3px;text-align: center; " colspan="2">
<div style="border-bottom: 1px solid #00000020; padding-bottom: 5px; ">
Chambres privées
</div>
</th>
</tr>
<tr>
<th style="text-align:center;">
Indicateur ( 2019 )
</th>
<th style="text-align:center;">
Pantin
</th>
<th style="text-align:center;">
Issy
</th>
<th style="text-align:center;">
Pantin
</th>
<th style="text-align:center;">
Issy
</th>
<th style="text-align:center;">
Pantin
</th>
<th style="text-align:center;">
Issy
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center;font-weight: bold;">
Nombre total de logements
</td>
<td style="text-align:center;">
1238
</td>
<td style="text-align:center;">
1153
</td>
<td style="text-align:center;">
918
</td>
<td style="text-align:center;">
929
</td>
<td style="text-align:center;">
288
</td>
<td style="text-align:center;">
204
</td>
</tr>
<tr>
<td style="text-align:center;font-weight: bold;">
Nombre de logements actifs<sup>a</sup>
</td>
<td style="text-align:center;">
898
</td>
<td style="text-align:center;">
779
</td>
<td style="text-align:center;">
676
</td>
<td style="text-align:center;">
622
</td>
<td style="text-align:center;">
204
</td>
<td style="text-align:center;">
144
</td>
</tr>
<tr>
<td style="text-align:center;font-weight: bold;">
Nombre de logements réservés<sup>b</sup>
</td>
<td style="text-align:center;">
650
</td>
<td style="text-align:center;">
575
</td>
<td style="text-align:center;">
493
</td>
<td style="text-align:center;">
468
</td>
<td style="text-align:center;">
147
</td>
<td style="text-align:center;">
98
</td>
</tr>
</tbody>
<tfoot>
<tr>
<td style="padding: 0; " colspan="100%">
<sup>a</sup> Un logement est considéré comme actif s’il a été proposé au moins une nuitée sur l’année
</td>
</tr>
<tr>
<td style="padding: 0; " colspan="100%">
<sup>b</sup> Un logement est considéré comme réservé s’il a enregistré au moins une réservation au cours de l’année
</td>
</tr>
</tfoot>
</table>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>comparlog <span class="ot">&lt;-</span> <span class="st">&quot; &quot;</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>taux_com1 <span class="ot">&lt;-</span> (<span class="fu">nrow</span>(com1_reserves) <span class="sc">*</span> <span class="dv">100</span> <span class="sc">/</span> <span class="fu">nrow</span>(com1_actifs)) <span class="sc">%&gt;%</span> <span class="fu">round</span>(<span class="at">digits =</span> <span class="dv">2</span>)</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>taux_com2 <span class="ot">&lt;-</span> (<span class="fu">nrow</span>(com2_reserves) <span class="sc">*</span> <span class="dv">100</span> <span class="sc">/</span> <span class="fu">nrow</span>(com2_actifs)) <span class="sc">%&gt;%</span> <span class="fu">round</span>(<span class="at">digits =</span> <span class="dv">2</span>)</span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span>(taux_com1 <span class="sc">&gt;</span> taux_com2){</span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>  comparlog <span class="ot">&lt;-</span> <span class="fu">paste0</span>(com1_nom, <span class="st">&quot; (&quot;</span>, taux_com1, <span class="st">&quot;%) contre &quot;</span>, taux_com2, <span class="st">&quot;% dans la commune de &quot;</span>, com2_nom)</span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a>} <span class="cf">else</span> {</span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a>  comparlog <span class="ot">&lt;-</span> <span class="fu">paste0</span>(com2_nom, <span class="st">&quot; (&quot;</span>, taux_com2, <span class="st">&quot;%) contre &quot;</span>, taux_com1, <span class="st">&quot;% dans la commune de &quot;</span>, com1_nom)</span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a>comparprix <span class="ot">&lt;-</span> <span class="st">&quot; &quot;</span></span>
<span id="cb8-12"><a href="#cb8-12" aria-hidden="true" tabindex="-1"></a>pluscher <span class="ot">&lt;-</span> (<span class="fu">max</span>(<span class="fu">mean</span>(com1_reserves<span class="sc">$</span>prixpers), <span class="fu">mean</span>(com2_reserves<span class="sc">$</span>prixpers))) <span class="sc">%&gt;%</span> <span class="fu">round</span>(<span class="at">digits =</span> <span class="dv">0</span>)</span>
<span id="cb8-13"><a href="#cb8-13" aria-hidden="true" tabindex="-1"></a>moinscher <span class="ot">&lt;-</span> (<span class="fu">min</span>(<span class="fu">mean</span>(com1_reserves<span class="sc">$</span>prixpers), <span class="fu">mean</span>(com2_reserves<span class="sc">$</span>prixpers))) <span class="sc">%&gt;%</span> <span class="fu">round</span>(<span class="at">digits =</span> <span class="dv">0</span>)</span>
<span id="cb8-14"><a href="#cb8-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-15"><a href="#cb8-15" aria-hidden="true" tabindex="-1"></a>ville_pluschere <span class="ot">&lt;-</span> <span class="st">&quot; &quot;</span></span>
<span id="cb8-16"><a href="#cb8-16" aria-hidden="true" tabindex="-1"></a>ville_moinschere <span class="ot">&lt;-</span> <span class="st">&quot; &quot;</span></span>
<span id="cb8-17"><a href="#cb8-17" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="fu">mean</span>(com1_reserves<span class="sc">$</span>prixpers) <span class="sc">&gt;</span> <span class="fu">mean</span>(com2_reserves<span class="sc">$</span>prixpers)){</span>
<span id="cb8-18"><a href="#cb8-18" aria-hidden="true" tabindex="-1"></a>  ville_pluschere <span class="ot">&lt;-</span> com1_nom</span>
<span id="cb8-19"><a href="#cb8-19" aria-hidden="true" tabindex="-1"></a>  ville_moinschere <span class="ot">&lt;-</span> com2_nom</span>
<span id="cb8-20"><a href="#cb8-20" aria-hidden="true" tabindex="-1"></a>} <span class="cf">else</span> {</span>
<span id="cb8-21"><a href="#cb8-21" aria-hidden="true" tabindex="-1"></a>  ville_pluschere <span class="ot">&lt;-</span> com2_nom</span>
<span id="cb8-22"><a href="#cb8-22" aria-hidden="true" tabindex="-1"></a>  ville_moinschere <span class="ot">&lt;-</span> com1_nom</span>
<span id="cb8-23"><a href="#cb8-23" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb8-24"><a href="#cb8-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-25"><a href="#cb8-25" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span>(pluscher <span class="sc">/</span> moinscher <span class="sc">&gt;</span> <span class="fl">1.5</span>){</span>
<span id="cb8-26"><a href="#cb8-26" aria-hidden="true" tabindex="-1"></a>  comparprix <span class="ot">&lt;-</span> <span class="fu">paste0</span>(<span class="st">&quot;forte différence entre le prix moyen pratiqué entre les communes : il est de &quot;</span>, pluscher, <span class="st">&quot;$ à &quot;</span>, ville_pluschere, <span class="st">&quot; contre &quot;</span>, moinscher, <span class="st">&quot;$ à &quot;</span>, ville_moinschere)</span>
<span id="cb8-27"><a href="#cb8-27" aria-hidden="true" tabindex="-1"></a>} <span class="cf">else</span> <span class="cf">if</span>(pluscher <span class="sc">/</span> moinscher <span class="sc">&lt;</span> <span class="fl">1.1</span>){</span>
<span id="cb8-28"><a href="#cb8-28" aria-hidden="true" tabindex="-1"></a>  comparprix <span class="ot">&lt;-</span> <span class="fu">paste0</span>(<span class="st">&quot;très légère différence entre le prix moyen pratiqué entre les communes : il est de &quot;</span>, pluscher, <span class="st">&quot;$ à &quot;</span>, ville_pluschere, <span class="st">&quot; contre &quot;</span>, moinscher, <span class="st">&quot;$ à &quot;</span>, ville_moinschere)</span>
<span id="cb8-29"><a href="#cb8-29" aria-hidden="true" tabindex="-1"></a>} <span class="cf">else</span> <span class="cf">if</span>((pluscher <span class="sc">/</span> moinscher) <span class="sc">&gt;</span> <span class="fl">1.1</span> <span class="sc">&amp;</span> (pluscher <span class="sc">/</span> moinscher) <span class="sc">&lt;</span> <span class="fl">1.5</span>){</span>
<span id="cb8-30"><a href="#cb8-30" aria-hidden="true" tabindex="-1"></a>  comparprix <span class="ot">&lt;-</span> <span class="fu">paste0</span>(<span class="st">&quot;différence sensible entre le prix moyen pratiqué entre les communes : il est de &quot;</span>, pluscher, <span class="st">&quot;$ à &quot;</span>, ville_pluschere, <span class="st">&quot; contre &quot;</span>, moinscher, <span class="st">&quot;$ à &quot;</span>, ville_moinschere)</span>
<span id="cb8-31"><a href="#cb8-31" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<p>Le tableau suivant prend comme stock de référence les logements réservés. Le taux d’activité (nombre de logements réservés par rapport au nombre de logements actifs) est plus élevé dans la commune de Issy (73.81%) contre 72.38% dans la commune de Pantin. On observe une différence sensible entre le prix moyen pratiqué entre les communes : il est de 35$ à Issy contre 25$ à Pantin.</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="co"># ajouter taux d&#39;activité</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a><span class="fu">options</span>(<span class="at">scipen =</span> <span class="dv">3</span>)</span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>entire_com1 <span class="ot">&lt;-</span> com1_reserves <span class="sc">%&gt;%</span> <span class="fu">filter</span>(type <span class="sc">==</span> <span class="st">&quot;Entire home/apt&quot;</span>)</span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>private_com1 <span class="ot">&lt;-</span> com1_reserves <span class="sc">%&gt;%</span> <span class="fu">filter</span>(type <span class="sc">==</span> <span class="st">&quot;Private room&quot;</span>)</span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a>entire_com2 <span class="ot">&lt;-</span> com2_reserves <span class="sc">%&gt;%</span> <span class="fu">filter</span>(type <span class="sc">==</span> <span class="st">&quot;Entire home/apt&quot;</span>)</span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a>private_com2 <span class="ot">&lt;-</span> com2_reserves <span class="sc">%&gt;%</span> <span class="fu">filter</span>(type <span class="sc">==</span> <span class="st">&quot;Private room&quot;</span>)</span>
<span id="cb9-10"><a href="#cb9-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-11"><a href="#cb9-11" aria-hidden="true" tabindex="-1"></a>indicateur <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="fu">matrix</span>(<span class="at">ncol =</span> <span class="dv">7</span>, <span class="at">nrow =</span> <span class="dv">11</span>))</span>
<span id="cb9-12"><a href="#cb9-12" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(indicateur) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fu">paste</span>(<span class="st">&quot;Indicateur (&quot;</span>, periode ,<span class="st">&quot;)&quot;</span>), com1_nom, com2_nom, com1_nom, com2_nom, com1_nom, com2_nom)</span>
<span id="cb9-13"><a href="#cb9-13" aria-hidden="true" tabindex="-1"></a>indicateur[ ,<span class="dv">1</span>] <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;Taux d&#39;activité (%)&quot;</span>, <span class="st">&quot;Prix par personne moyen&quot;</span>, <span class="st">&quot;Taux de fréquentation moyen (%)&quot;</span>, <span class="st">&quot;Nombre moyen de nuitées disponibles&quot;</span>, <span class="st">&quot;Nombre moyen de nuitées réservées&quot;</span>, <span class="st">&quot;Part de logements loués fréquemment (&gt;= 120 nuitées)&quot;</span>, <span class="st">&quot;Part de logements loués occasionnellement (&lt;= 7 nuitées)&quot;</span>, <span class="st">&quot;Part des séjours de moins de 7 jours&quot;</span>, <span class="st">&quot;Part des séjours de 15 jours ou plus&quot;</span>, <span class="st">&quot;Part de logements détenus par des multiloueurs&quot;</span>, <span class="st">&quot;Revenu médian engendré par logement ($)&quot;</span>)</span>
<span id="cb9-14"><a href="#cb9-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-15"><a href="#cb9-15" aria-hidden="true" tabindex="-1"></a>indicateur[<span class="dv">1</span>,<span class="dv">2</span>] <span class="ot">&lt;-</span> <span class="fu">nrow</span>(com1_reserves) <span class="sc">*</span> <span class="dv">100</span> <span class="sc">/</span> <span class="fu">nrow</span>(com1_actifs)</span>
<span id="cb9-16"><a href="#cb9-16" aria-hidden="true" tabindex="-1"></a>indicateur[<span class="dv">1</span>,<span class="dv">3</span>] <span class="ot">&lt;-</span> <span class="fu">nrow</span>(com2_reserves) <span class="sc">*</span> <span class="dv">100</span> <span class="sc">/</span> <span class="fu">nrow</span>(com2_actifs)</span>
<span id="cb9-17"><a href="#cb9-17" aria-hidden="true" tabindex="-1"></a>indicateur[<span class="dv">1</span>,<span class="dv">4</span>] <span class="ot">&lt;-</span> <span class="fu">nrow</span>(entire_com1) <span class="sc">*</span> <span class="dv">100</span> <span class="sc">/</span> <span class="fu">nrow</span>(com1_actifs <span class="sc">%&gt;%</span> <span class="fu">filter</span>(type <span class="sc">==</span> <span class="st">&quot;Entire home/apt&quot;</span>))</span>
<span id="cb9-18"><a href="#cb9-18" aria-hidden="true" tabindex="-1"></a>indicateur[<span class="dv">1</span>,<span class="dv">5</span>] <span class="ot">&lt;-</span> <span class="fu">nrow</span>(entire_com2) <span class="sc">*</span> <span class="dv">100</span> <span class="sc">/</span> <span class="fu">nrow</span>(com2_actifs <span class="sc">%&gt;%</span> <span class="fu">filter</span>(type <span class="sc">==</span> <span class="st">&quot;Entire home/apt&quot;</span>))</span>
<span id="cb9-19"><a href="#cb9-19" aria-hidden="true" tabindex="-1"></a>indicateur[<span class="dv">1</span>,<span class="dv">6</span>] <span class="ot">&lt;-</span> <span class="fu">nrow</span>(private_com1) <span class="sc">*</span> <span class="dv">100</span> <span class="sc">/</span> <span class="fu">nrow</span>(com1_actifs <span class="sc">%&gt;%</span> <span class="fu">filter</span>(type <span class="sc">==</span> <span class="st">&quot;Private room&quot;</span>))</span>
<span id="cb9-20"><a href="#cb9-20" aria-hidden="true" tabindex="-1"></a>indicateur[<span class="dv">1</span>,<span class="dv">7</span>] <span class="ot">&lt;-</span> <span class="fu">nrow</span>(private_com2) <span class="sc">*</span> <span class="dv">100</span> <span class="sc">/</span> <span class="fu">nrow</span>(com2_actifs <span class="sc">%&gt;%</span> <span class="fu">filter</span>(type <span class="sc">==</span> <span class="st">&quot;Private room&quot;</span>))</span>
<span id="cb9-21"><a href="#cb9-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-22"><a href="#cb9-22" aria-hidden="true" tabindex="-1"></a>indicateur[<span class="dv">2</span>,<span class="dv">2</span>] <span class="ot">&lt;-</span> <span class="fu">mean</span>(com1_reserves<span class="sc">$</span>prixpers)</span>
<span id="cb9-23"><a href="#cb9-23" aria-hidden="true" tabindex="-1"></a>indicateur[<span class="dv">2</span>,<span class="dv">3</span>] <span class="ot">&lt;-</span> <span class="fu">mean</span>(com2_reserves<span class="sc">$</span>prixpers)</span>
<span id="cb9-24"><a href="#cb9-24" aria-hidden="true" tabindex="-1"></a>indicateur[<span class="dv">2</span>,<span class="dv">4</span>] <span class="ot">&lt;-</span> <span class="fu">mean</span>(entire_com1<span class="sc">$</span>prixpers)</span>
<span id="cb9-25"><a href="#cb9-25" aria-hidden="true" tabindex="-1"></a>indicateur[<span class="dv">2</span>,<span class="dv">5</span>] <span class="ot">&lt;-</span> <span class="fu">mean</span>(entire_com2<span class="sc">$</span>prixpers)</span>
<span id="cb9-26"><a href="#cb9-26" aria-hidden="true" tabindex="-1"></a>indicateur[<span class="dv">2</span>,<span class="dv">6</span>] <span class="ot">&lt;-</span> <span class="fu">mean</span>(private_com1<span class="sc">$</span>prixpers)</span>
<span id="cb9-27"><a href="#cb9-27" aria-hidden="true" tabindex="-1"></a>indicateur[<span class="dv">2</span>,<span class="dv">7</span>] <span class="ot">&lt;-</span> <span class="fu">mean</span>(private_com2<span class="sc">$</span>prixpers)</span>
<span id="cb9-28"><a href="#cb9-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-29"><a href="#cb9-29" aria-hidden="true" tabindex="-1"></a>indicateur[<span class="dv">3</span>,<span class="dv">2</span>] <span class="ot">&lt;-</span> <span class="fu">sum</span>(com1_reserves<span class="sc">$</span>nb_nuitees) <span class="sc">*</span> <span class="dv">100</span> <span class="sc">/</span> (<span class="fu">sum</span>(com1_reserves<span class="sc">$</span>nb_nuitees) <span class="sc">+</span> <span class="fu">sum</span>(com1_reserves<span class="sc">$</span>nb_dispo))</span>
<span id="cb9-30"><a href="#cb9-30" aria-hidden="true" tabindex="-1"></a>indicateur[<span class="dv">3</span>,<span class="dv">3</span>] <span class="ot">&lt;-</span> <span class="fu">sum</span>(com2_reserves<span class="sc">$</span>nb_nuitees) <span class="sc">*</span> <span class="dv">100</span> <span class="sc">/</span> (<span class="fu">sum</span>(com2_reserves<span class="sc">$</span>nb_nuitees) <span class="sc">+</span> <span class="fu">sum</span>(com2_reserves<span class="sc">$</span>nb_dispo))</span>
<span id="cb9-31"><a href="#cb9-31" aria-hidden="true" tabindex="-1"></a>indicateur[<span class="dv">3</span>,<span class="dv">4</span>] <span class="ot">&lt;-</span> <span class="fu">sum</span>(entire_com1<span class="sc">$</span>nb_nuitees) <span class="sc">*</span> <span class="dv">100</span> <span class="sc">/</span> (<span class="fu">sum</span>(entire_com1<span class="sc">$</span>nb_nuitees) <span class="sc">+</span> <span class="fu">sum</span>(entire_com1<span class="sc">$</span>nb_dispo))</span>
<span id="cb9-32"><a href="#cb9-32" aria-hidden="true" tabindex="-1"></a>indicateur[<span class="dv">3</span>,<span class="dv">5</span>] <span class="ot">&lt;-</span> <span class="fu">sum</span>(entire_com2<span class="sc">$</span>nb_nuitees) <span class="sc">*</span> <span class="dv">100</span> <span class="sc">/</span> (<span class="fu">sum</span>(entire_com2<span class="sc">$</span>nb_nuitees) <span class="sc">+</span> <span class="fu">sum</span>(entire_com2<span class="sc">$</span>nb_dispo))</span>
<span id="cb9-33"><a href="#cb9-33" aria-hidden="true" tabindex="-1"></a>indicateur[<span class="dv">3</span>,<span class="dv">6</span>] <span class="ot">&lt;-</span> <span class="fu">sum</span>(private_com1<span class="sc">$</span>nb_nuitees) <span class="sc">*</span> <span class="dv">100</span> <span class="sc">/</span> (<span class="fu">sum</span>(private_com1<span class="sc">$</span>nb_nuitees) <span class="sc">+</span> <span class="fu">sum</span>(private_com1<span class="sc">$</span>nb_dispo))</span>
<span id="cb9-34"><a href="#cb9-34" aria-hidden="true" tabindex="-1"></a>indicateur[<span class="dv">3</span>,<span class="dv">7</span>] <span class="ot">&lt;-</span> <span class="fu">sum</span>(private_com2<span class="sc">$</span>nb_nuitees) <span class="sc">*</span> <span class="dv">100</span> <span class="sc">/</span> (<span class="fu">sum</span>(private_com2<span class="sc">$</span>nb_nuitees) <span class="sc">+</span> <span class="fu">sum</span>(private_com2<span class="sc">$</span>nb_dispo))</span>
<span id="cb9-35"><a href="#cb9-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-36"><a href="#cb9-36" aria-hidden="true" tabindex="-1"></a>indicateur[<span class="dv">4</span>,<span class="dv">2</span>] <span class="ot">&lt;-</span> <span class="fu">mean</span>(com1_reserves<span class="sc">$</span>nb_dispo <span class="sc">+</span> com1_reserves<span class="sc">$</span>nb_nuitees)</span>
<span id="cb9-37"><a href="#cb9-37" aria-hidden="true" tabindex="-1"></a>indicateur[<span class="dv">4</span>,<span class="dv">3</span>] <span class="ot">&lt;-</span> <span class="fu">mean</span>(com2_reserves<span class="sc">$</span>nb_dispo <span class="sc">+</span> com2_reserves<span class="sc">$</span>nb_nuitees)</span>
<span id="cb9-38"><a href="#cb9-38" aria-hidden="true" tabindex="-1"></a>indicateur[<span class="dv">4</span>,<span class="dv">4</span>] <span class="ot">&lt;-</span> <span class="fu">mean</span>(entire_com1<span class="sc">$</span>nb_dispo <span class="sc">+</span> entire_com1<span class="sc">$</span>nb_nuitees)</span>
<span id="cb9-39"><a href="#cb9-39" aria-hidden="true" tabindex="-1"></a>indicateur[<span class="dv">4</span>,<span class="dv">5</span>] <span class="ot">&lt;-</span> <span class="fu">mean</span>(entire_com2<span class="sc">$</span>nb_dispo <span class="sc">+</span> entire_com2<span class="sc">$</span>nb_nuitees)</span>
<span id="cb9-40"><a href="#cb9-40" aria-hidden="true" tabindex="-1"></a>indicateur[<span class="dv">4</span>,<span class="dv">6</span>] <span class="ot">&lt;-</span> <span class="fu">mean</span>(private_com1<span class="sc">$</span>nb_dispo <span class="sc">+</span> private_com1<span class="sc">$</span>nb_nuitees)</span>
<span id="cb9-41"><a href="#cb9-41" aria-hidden="true" tabindex="-1"></a>indicateur[<span class="dv">4</span>,<span class="dv">7</span>] <span class="ot">&lt;-</span> <span class="fu">mean</span>(private_com2<span class="sc">$</span>nb_dispo <span class="sc">+</span> private_com2<span class="sc">$</span>nb_nuitees)</span>
<span id="cb9-42"><a href="#cb9-42" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-43"><a href="#cb9-43" aria-hidden="true" tabindex="-1"></a>indicateur[<span class="dv">5</span>,<span class="dv">2</span>] <span class="ot">&lt;-</span> <span class="fu">mean</span>(com1_reserves<span class="sc">$</span>nb_nuitees)</span>
<span id="cb9-44"><a href="#cb9-44" aria-hidden="true" tabindex="-1"></a>indicateur[<span class="dv">5</span>,<span class="dv">3</span>] <span class="ot">&lt;-</span> <span class="fu">mean</span>(com2_reserves<span class="sc">$</span>nb_nuitees)</span>
<span id="cb9-45"><a href="#cb9-45" aria-hidden="true" tabindex="-1"></a>indicateur[<span class="dv">5</span>,<span class="dv">4</span>] <span class="ot">&lt;-</span> <span class="fu">mean</span>(entire_com1<span class="sc">$</span>nb_nuitees)</span>
<span id="cb9-46"><a href="#cb9-46" aria-hidden="true" tabindex="-1"></a>indicateur[<span class="dv">5</span>,<span class="dv">5</span>] <span class="ot">&lt;-</span> <span class="fu">mean</span>(entire_com2<span class="sc">$</span>nb_nuitees)</span>
<span id="cb9-47"><a href="#cb9-47" aria-hidden="true" tabindex="-1"></a>indicateur[<span class="dv">5</span>,<span class="dv">6</span>] <span class="ot">&lt;-</span> <span class="fu">mean</span>(private_com1<span class="sc">$</span>nb_nuitees)</span>
<span id="cb9-48"><a href="#cb9-48" aria-hidden="true" tabindex="-1"></a>indicateur[<span class="dv">5</span>,<span class="dv">7</span>] <span class="ot">&lt;-</span> <span class="fu">mean</span>(private_com2<span class="sc">$</span>nb_nuitees)</span>
<span id="cb9-49"><a href="#cb9-49" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-50"><a href="#cb9-50" aria-hidden="true" tabindex="-1"></a>indicateur[<span class="dv">6</span>,<span class="dv">2</span>] <span class="ot">&lt;-</span> <span class="fu">nrow</span>(com1_reserves <span class="sc">%&gt;%</span> <span class="fu">filter</span>(nb_nuitees <span class="sc">&gt;=</span> <span class="dv">120</span>)) <span class="sc">*</span> <span class="dv">100</span> <span class="sc">/</span> <span class="fu">nrow</span>(com1_reserves)</span>
<span id="cb9-51"><a href="#cb9-51" aria-hidden="true" tabindex="-1"></a>indicateur[<span class="dv">6</span>,<span class="dv">3</span>] <span class="ot">&lt;-</span> <span class="fu">nrow</span>(com2_reserves <span class="sc">%&gt;%</span> <span class="fu">filter</span>(nb_nuitees <span class="sc">&gt;=</span> <span class="dv">120</span>)) <span class="sc">*</span> <span class="dv">100</span> <span class="sc">/</span> <span class="fu">nrow</span>(com2_reserves)</span>
<span id="cb9-52"><a href="#cb9-52" aria-hidden="true" tabindex="-1"></a>indicateur[<span class="dv">6</span>,<span class="dv">4</span>] <span class="ot">&lt;-</span> <span class="fu">nrow</span>(entire_com1 <span class="sc">%&gt;%</span> <span class="fu">filter</span>(nb_nuitees <span class="sc">&gt;=</span> <span class="dv">120</span>)) <span class="sc">*</span> <span class="dv">100</span> <span class="sc">/</span> <span class="fu">nrow</span>(entire_com1)</span>
<span id="cb9-53"><a href="#cb9-53" aria-hidden="true" tabindex="-1"></a>indicateur[<span class="dv">6</span>,<span class="dv">5</span>] <span class="ot">&lt;-</span> <span class="fu">nrow</span>(entire_com2 <span class="sc">%&gt;%</span> <span class="fu">filter</span>(nb_nuitees <span class="sc">&gt;=</span> <span class="dv">120</span>)) <span class="sc">*</span> <span class="dv">100</span> <span class="sc">/</span> <span class="fu">nrow</span>(entire_com2)</span>
<span id="cb9-54"><a href="#cb9-54" aria-hidden="true" tabindex="-1"></a>indicateur[<span class="dv">6</span>,<span class="dv">6</span>] <span class="ot">&lt;-</span> <span class="fu">nrow</span>(private_com1 <span class="sc">%&gt;%</span> <span class="fu">filter</span>(nb_nuitees <span class="sc">&gt;=</span> <span class="dv">120</span>)) <span class="sc">*</span> <span class="dv">100</span> <span class="sc">/</span> <span class="fu">nrow</span>(private_com1)</span>
<span id="cb9-55"><a href="#cb9-55" aria-hidden="true" tabindex="-1"></a>indicateur[<span class="dv">6</span>,<span class="dv">7</span>] <span class="ot">&lt;-</span> <span class="fu">nrow</span>(private_com2 <span class="sc">%&gt;%</span> <span class="fu">filter</span>(nb_nuitees <span class="sc">&gt;=</span> <span class="dv">120</span>)) <span class="sc">*</span> <span class="dv">100</span> <span class="sc">/</span> <span class="fu">nrow</span>(private_com2)</span>
<span id="cb9-56"><a href="#cb9-56" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-57"><a href="#cb9-57" aria-hidden="true" tabindex="-1"></a>indicateur[<span class="dv">7</span>,<span class="dv">2</span>] <span class="ot">&lt;-</span> <span class="fu">nrow</span>(com1_reserves <span class="sc">%&gt;%</span> <span class="fu">filter</span>(nb_nuitees <span class="sc">&lt;=</span> <span class="dv">7</span>)) <span class="sc">*</span> <span class="dv">100</span> <span class="sc">/</span> <span class="fu">nrow</span>(com1_reserves)</span>
<span id="cb9-58"><a href="#cb9-58" aria-hidden="true" tabindex="-1"></a>indicateur[<span class="dv">7</span>,<span class="dv">3</span>] <span class="ot">&lt;-</span> <span class="fu">nrow</span>(com2_reserves <span class="sc">%&gt;%</span> <span class="fu">filter</span>(nb_nuitees <span class="sc">&lt;=</span> <span class="dv">7</span>)) <span class="sc">*</span> <span class="dv">100</span> <span class="sc">/</span> <span class="fu">nrow</span>(com2_reserves)</span>
<span id="cb9-59"><a href="#cb9-59" aria-hidden="true" tabindex="-1"></a>indicateur[<span class="dv">7</span>,<span class="dv">4</span>] <span class="ot">&lt;-</span> <span class="fu">nrow</span>(entire_com1 <span class="sc">%&gt;%</span> <span class="fu">filter</span>(nb_nuitees <span class="sc">&lt;=</span> <span class="dv">7</span>)) <span class="sc">*</span> <span class="dv">100</span> <span class="sc">/</span> <span class="fu">nrow</span>(entire_com1)</span>
<span id="cb9-60"><a href="#cb9-60" aria-hidden="true" tabindex="-1"></a>indicateur[<span class="dv">7</span>,<span class="dv">5</span>] <span class="ot">&lt;-</span> <span class="fu">nrow</span>(entire_com2 <span class="sc">%&gt;%</span> <span class="fu">filter</span>(nb_nuitees <span class="sc">&lt;=</span> <span class="dv">7</span>)) <span class="sc">*</span> <span class="dv">100</span> <span class="sc">/</span> <span class="fu">nrow</span>(entire_com2)</span>
<span id="cb9-61"><a href="#cb9-61" aria-hidden="true" tabindex="-1"></a>indicateur[<span class="dv">7</span>,<span class="dv">6</span>] <span class="ot">&lt;-</span> <span class="fu">nrow</span>(private_com1 <span class="sc">%&gt;%</span> <span class="fu">filter</span>(nb_nuitees <span class="sc">&lt;=</span> <span class="dv">7</span>)) <span class="sc">*</span> <span class="dv">100</span> <span class="sc">/</span> <span class="fu">nrow</span>(private_com1)</span>
<span id="cb9-62"><a href="#cb9-62" aria-hidden="true" tabindex="-1"></a>indicateur[<span class="dv">7</span>,<span class="dv">7</span>] <span class="ot">&lt;-</span> <span class="fu">nrow</span>(private_com2 <span class="sc">%&gt;%</span> <span class="fu">filter</span>(nb_nuitees <span class="sc">&lt;=</span> <span class="dv">7</span>)) <span class="sc">*</span> <span class="dv">100</span> <span class="sc">/</span> <span class="fu">nrow</span>(private_com2)</span>
<span id="cb9-63"><a href="#cb9-63" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-64"><a href="#cb9-64" aria-hidden="true" tabindex="-1"></a>indicateur[<span class="dv">8</span>,<span class="dv">2</span>] <span class="ot">&lt;-</span> <span class="fu">nrow</span>(com1_reserves <span class="sc">%&gt;%</span> <span class="fu">filter</span>(duree <span class="sc">&lt;</span> <span class="dv">7</span>)) <span class="sc">*</span> <span class="dv">100</span> <span class="sc">/</span> <span class="fu">nrow</span>(com1_reserves)</span>
<span id="cb9-65"><a href="#cb9-65" aria-hidden="true" tabindex="-1"></a>indicateur[<span class="dv">8</span>,<span class="dv">3</span>] <span class="ot">&lt;-</span> <span class="fu">nrow</span>(com2_reserves <span class="sc">%&gt;%</span> <span class="fu">filter</span>(duree <span class="sc">&lt;</span> <span class="dv">7</span>)) <span class="sc">*</span> <span class="dv">100</span> <span class="sc">/</span> <span class="fu">nrow</span>(com2_reserves)</span>
<span id="cb9-66"><a href="#cb9-66" aria-hidden="true" tabindex="-1"></a>indicateur[<span class="dv">8</span>,<span class="dv">4</span>] <span class="ot">&lt;-</span> <span class="fu">nrow</span>(entire_com1 <span class="sc">%&gt;%</span> <span class="fu">filter</span>(duree <span class="sc">&lt;</span> <span class="dv">7</span>)) <span class="sc">*</span> <span class="dv">100</span> <span class="sc">/</span> <span class="fu">nrow</span>(entire_com1)</span>
<span id="cb9-67"><a href="#cb9-67" aria-hidden="true" tabindex="-1"></a>indicateur[<span class="dv">8</span>,<span class="dv">5</span>] <span class="ot">&lt;-</span> <span class="fu">nrow</span>(entire_com2 <span class="sc">%&gt;%</span> <span class="fu">filter</span>(duree <span class="sc">&lt;</span> <span class="dv">7</span>)) <span class="sc">*</span> <span class="dv">100</span> <span class="sc">/</span> <span class="fu">nrow</span>(entire_com2)</span>
<span id="cb9-68"><a href="#cb9-68" aria-hidden="true" tabindex="-1"></a>indicateur[<span class="dv">8</span>,<span class="dv">6</span>] <span class="ot">&lt;-</span> <span class="fu">nrow</span>(private_com1 <span class="sc">%&gt;%</span> <span class="fu">filter</span>(duree <span class="sc">&lt;</span> <span class="dv">7</span>)) <span class="sc">*</span> <span class="dv">100</span> <span class="sc">/</span> <span class="fu">nrow</span>(private_com1)</span>
<span id="cb9-69"><a href="#cb9-69" aria-hidden="true" tabindex="-1"></a>indicateur[<span class="dv">8</span>,<span class="dv">7</span>] <span class="ot">&lt;-</span> <span class="fu">nrow</span>(private_com2 <span class="sc">%&gt;%</span> <span class="fu">filter</span>(duree <span class="sc">&lt;</span> <span class="dv">7</span>)) <span class="sc">*</span> <span class="dv">100</span> <span class="sc">/</span> <span class="fu">nrow</span>(private_com2)</span>
<span id="cb9-70"><a href="#cb9-70" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-71"><a href="#cb9-71" aria-hidden="true" tabindex="-1"></a>indicateur[<span class="dv">9</span>,<span class="dv">2</span>] <span class="ot">&lt;-</span> <span class="fu">nrow</span>(com1_reserves <span class="sc">%&gt;%</span> <span class="fu">filter</span>(duree <span class="sc">&gt;=</span> <span class="dv">15</span>)) <span class="sc">*</span> <span class="dv">100</span> <span class="sc">/</span> <span class="fu">nrow</span>(com1_reserves)</span>
<span id="cb9-72"><a href="#cb9-72" aria-hidden="true" tabindex="-1"></a>indicateur[<span class="dv">9</span>,<span class="dv">3</span>] <span class="ot">&lt;-</span> <span class="fu">nrow</span>(com2_reserves <span class="sc">%&gt;%</span> <span class="fu">filter</span>(duree <span class="sc">&gt;=</span> <span class="dv">15</span>)) <span class="sc">*</span> <span class="dv">100</span> <span class="sc">/</span> <span class="fu">nrow</span>(com2_reserves)</span>
<span id="cb9-73"><a href="#cb9-73" aria-hidden="true" tabindex="-1"></a>indicateur[<span class="dv">9</span>,<span class="dv">4</span>] <span class="ot">&lt;-</span> <span class="fu">nrow</span>(entire_com1 <span class="sc">%&gt;%</span> <span class="fu">filter</span>(duree <span class="sc">&gt;=</span> <span class="dv">15</span>)) <span class="sc">*</span> <span class="dv">100</span> <span class="sc">/</span> <span class="fu">nrow</span>(entire_com1)</span>
<span id="cb9-74"><a href="#cb9-74" aria-hidden="true" tabindex="-1"></a>indicateur[<span class="dv">9</span>,<span class="dv">5</span>] <span class="ot">&lt;-</span> <span class="fu">nrow</span>(entire_com2 <span class="sc">%&gt;%</span> <span class="fu">filter</span>(duree <span class="sc">&gt;=</span> <span class="dv">15</span>)) <span class="sc">*</span> <span class="dv">100</span> <span class="sc">/</span> <span class="fu">nrow</span>(entire_com2)</span>
<span id="cb9-75"><a href="#cb9-75" aria-hidden="true" tabindex="-1"></a>indicateur[<span class="dv">9</span>,<span class="dv">6</span>] <span class="ot">&lt;-</span> <span class="fu">nrow</span>(private_com1 <span class="sc">%&gt;%</span> <span class="fu">filter</span>(duree <span class="sc">&gt;=</span> <span class="dv">15</span>)) <span class="sc">*</span> <span class="dv">100</span> <span class="sc">/</span> <span class="fu">nrow</span>(private_com1)</span>
<span id="cb9-76"><a href="#cb9-76" aria-hidden="true" tabindex="-1"></a>indicateur[<span class="dv">9</span>,<span class="dv">7</span>] <span class="ot">&lt;-</span> <span class="fu">nrow</span>(private_com2 <span class="sc">%&gt;%</span> <span class="fu">filter</span>(duree <span class="sc">&gt;=</span> <span class="dv">15</span>)) <span class="sc">*</span> <span class="dv">100</span> <span class="sc">/</span> <span class="fu">nrow</span>(private_com2)</span>
<span id="cb9-77"><a href="#cb9-77" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-78"><a href="#cb9-78" aria-hidden="true" tabindex="-1"></a>indicateur[<span class="dv">10</span>,<span class="dv">2</span>] <span class="ot">&lt;-</span> <span class="fu">nrow</span>(com1_reserves <span class="sc">%&gt;%</span> <span class="fu">filter</span>(multi <span class="sc">==</span> <span class="cn">TRUE</span>)) <span class="sc">*</span> <span class="dv">100</span> <span class="sc">/</span> <span class="fu">nrow</span>(com1_reserves)</span>
<span id="cb9-79"><a href="#cb9-79" aria-hidden="true" tabindex="-1"></a>indicateur[<span class="dv">10</span>,<span class="dv">3</span>] <span class="ot">&lt;-</span> <span class="fu">nrow</span>(com2_reserves <span class="sc">%&gt;%</span> <span class="fu">filter</span>(multi <span class="sc">==</span> <span class="cn">TRUE</span>)) <span class="sc">*</span> <span class="dv">100</span> <span class="sc">/</span> <span class="fu">nrow</span>(com2_reserves)</span>
<span id="cb9-80"><a href="#cb9-80" aria-hidden="true" tabindex="-1"></a>indicateur[<span class="dv">10</span>,<span class="dv">4</span>] <span class="ot">&lt;-</span> <span class="fu">nrow</span>(entire_com1 <span class="sc">%&gt;%</span> <span class="fu">filter</span>(multi <span class="sc">==</span> <span class="cn">TRUE</span>)) <span class="sc">*</span> <span class="dv">100</span> <span class="sc">/</span> <span class="fu">nrow</span>(entire_com1)</span>
<span id="cb9-81"><a href="#cb9-81" aria-hidden="true" tabindex="-1"></a>indicateur[<span class="dv">10</span>,<span class="dv">5</span>] <span class="ot">&lt;-</span> <span class="fu">nrow</span>(entire_com2 <span class="sc">%&gt;%</span> <span class="fu">filter</span>(multi <span class="sc">==</span> <span class="cn">TRUE</span>)) <span class="sc">*</span> <span class="dv">100</span> <span class="sc">/</span> <span class="fu">nrow</span>(entire_com2)</span>
<span id="cb9-82"><a href="#cb9-82" aria-hidden="true" tabindex="-1"></a>indicateur[<span class="dv">10</span>,<span class="dv">6</span>] <span class="ot">&lt;-</span> <span class="fu">nrow</span>(private_com1 <span class="sc">%&gt;%</span> <span class="fu">filter</span>(multi <span class="sc">==</span> <span class="cn">TRUE</span>)) <span class="sc">*</span> <span class="dv">100</span> <span class="sc">/</span> <span class="fu">nrow</span>(private_com1)</span>
<span id="cb9-83"><a href="#cb9-83" aria-hidden="true" tabindex="-1"></a>indicateur[<span class="dv">10</span>,<span class="dv">7</span>] <span class="ot">&lt;-</span> <span class="fu">nrow</span>(private_com2 <span class="sc">%&gt;%</span> <span class="fu">filter</span>(multi <span class="sc">==</span> <span class="cn">TRUE</span>)) <span class="sc">*</span> <span class="dv">100</span> <span class="sc">/</span> <span class="fu">nrow</span>(private_com2)</span>
<span id="cb9-84"><a href="#cb9-84" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-85"><a href="#cb9-85" aria-hidden="true" tabindex="-1"></a>indicateur[<span class="dv">11</span>,<span class="dv">2</span>] <span class="ot">&lt;-</span> <span class="fu">median</span>(com1_reserves<span class="sc">$</span>rev_tot)</span>
<span id="cb9-86"><a href="#cb9-86" aria-hidden="true" tabindex="-1"></a>indicateur[<span class="dv">11</span>,<span class="dv">3</span>] <span class="ot">&lt;-</span> <span class="fu">median</span>(com2_reserves<span class="sc">$</span>rev_tot)</span>
<span id="cb9-87"><a href="#cb9-87" aria-hidden="true" tabindex="-1"></a>indicateur[<span class="dv">11</span>,<span class="dv">4</span>] <span class="ot">&lt;-</span> <span class="fu">median</span>(entire_com1<span class="sc">$</span>rev_tot)</span>
<span id="cb9-88"><a href="#cb9-88" aria-hidden="true" tabindex="-1"></a>indicateur[<span class="dv">11</span>,<span class="dv">5</span>] <span class="ot">&lt;-</span> <span class="fu">median</span>(entire_com2<span class="sc">$</span>rev_tot)</span>
<span id="cb9-89"><a href="#cb9-89" aria-hidden="true" tabindex="-1"></a>indicateur[<span class="dv">11</span>,<span class="dv">6</span>] <span class="ot">&lt;-</span> <span class="fu">median</span>(private_com1<span class="sc">$</span>rev_tot)</span>
<span id="cb9-90"><a href="#cb9-90" aria-hidden="true" tabindex="-1"></a>indicateur[<span class="dv">11</span>,<span class="dv">7</span>] <span class="ot">&lt;-</span> <span class="fu">median</span>(private_com2<span class="sc">$</span>rev_tot)</span>
<span id="cb9-91"><a href="#cb9-91" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-92"><a href="#cb9-92" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-93"><a href="#cb9-93" aria-hidden="true" tabindex="-1"></a><span class="fu">kable</span>(indicateur, <span class="at">digits =</span> <span class="dv">0</span>, <span class="at">booktabs =</span> <span class="cn">TRUE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb9-94"><a href="#cb9-94" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_paper</span>(<span class="at">full_width =</span> F) <span class="sc">%&gt;%</span></span>
<span id="cb9-95"><a href="#cb9-95" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_header_above</span>(<span class="at">header =</span> <span class="fu">c</span>(<span class="st">&quot; &quot;</span> <span class="ot">=</span> <span class="dv">1</span>, <span class="st">&quot;Tous les logements&quot;</span> <span class="ot">=</span> <span class="dv">2</span>, <span class="st">&quot;Logements entiers&quot;</span> <span class="ot">=</span> <span class="dv">2</span>,</span>
<span id="cb9-96"><a href="#cb9-96" aria-hidden="true" tabindex="-1"></a>                              <span class="st">&quot;Chambres privées&quot;</span> <span class="ot">=</span> <span class="dv">2</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb9-97"><a href="#cb9-97" aria-hidden="true" tabindex="-1"></a>  <span class="fu">column_spec</span>(<span class="dv">1</span>, <span class="at">bold =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<table class=" lightable-paper" style="font-family: &quot;Arial Narrow&quot;, arial, helvetica, sans-serif; width: auto !important; margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="empty-cells: hide;" colspan="1">
</th>
<th style="padding-bottom:0; padding-left:3px;padding-right:3px;text-align: center; " colspan="2">
<div style="border-bottom: 1px solid #00000020; padding-bottom: 5px; ">
Tous les logements
</div>
</th>
<th style="padding-bottom:0; padding-left:3px;padding-right:3px;text-align: center; " colspan="2">
<div style="border-bottom: 1px solid #00000020; padding-bottom: 5px; ">
Logements entiers
</div>
</th>
<th style="padding-bottom:0; padding-left:3px;padding-right:3px;text-align: center; " colspan="2">
<div style="border-bottom: 1px solid #00000020; padding-bottom: 5px; ">
Chambres privées
</div>
</th>
</tr>
<tr>
<th style="text-align:left;">
Indicateur ( 2019 )
</th>
<th style="text-align:right;">
Pantin
</th>
<th style="text-align:right;">
Issy
</th>
<th style="text-align:right;">
Pantin
</th>
<th style="text-align:right;">
Issy
</th>
<th style="text-align:right;">
Pantin
</th>
<th style="text-align:right;">
Issy
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;font-weight: bold;">
Taux d’activité (%)
</td>
<td style="text-align:right;">
72
</td>
<td style="text-align:right;">
74
</td>
<td style="text-align:right;">
73
</td>
<td style="text-align:right;">
75
</td>
<td style="text-align:right;">
72
</td>
<td style="text-align:right;">
68
</td>
</tr>
<tr>
<td style="text-align:left;font-weight: bold;">
Prix par personne moyen
</td>
<td style="text-align:right;">
25
</td>
<td style="text-align:right;">
35
</td>
<td style="text-align:right;">
25
</td>
<td style="text-align:right;">
34
</td>
<td style="text-align:right;">
25
</td>
<td style="text-align:right;">
37
</td>
</tr>
<tr>
<td style="text-align:left;font-weight: bold;">
Taux de fréquentation moyen (%)
</td>
<td style="text-align:right;">
57
</td>
<td style="text-align:right;">
55
</td>
<td style="text-align:right;">
61
</td>
<td style="text-align:right;">
58
</td>
<td style="text-align:right;">
50
</td>
<td style="text-align:right;">
44
</td>
</tr>
<tr>
<td style="text-align:left;font-weight: bold;">
Nombre moyen de nuitées disponibles
</td>
<td style="text-align:right;">
146
</td>
<td style="text-align:right;">
146
</td>
<td style="text-align:right;">
133
</td>
<td style="text-align:right;">
143
</td>
<td style="text-align:right;">
182
</td>
<td style="text-align:right;">
164
</td>
</tr>
<tr>
<td style="text-align:left;font-weight: bold;">
Nombre moyen de nuitées réservées
</td>
<td style="text-align:right;">
83
</td>
<td style="text-align:right;">
80
</td>
<td style="text-align:right;">
81
</td>
<td style="text-align:right;">
83
</td>
<td style="text-align:right;">
91
</td>
<td style="text-align:right;">
73
</td>
</tr>
<tr>
<td style="text-align:left;font-weight: bold;">
Part de logements loués fréquemment (&gt;= 120 nuitées)
</td>
<td style="text-align:right;">
24
</td>
<td style="text-align:right;">
25
</td>
<td style="text-align:right;">
24
</td>
<td style="text-align:right;">
26
</td>
<td style="text-align:right;">
27
</td>
<td style="text-align:right;">
26
</td>
</tr>
<tr>
<td style="text-align:left;font-weight: bold;">
Part de logements loués occasionnellement (&lt;= 7 nuitées)
</td>
<td style="text-align:right;">
9
</td>
<td style="text-align:right;">
10
</td>
<td style="text-align:right;">
9
</td>
<td style="text-align:right;">
9
</td>
<td style="text-align:right;">
9
</td>
<td style="text-align:right;">
15
</td>
</tr>
<tr>
<td style="text-align:left;font-weight: bold;">
Part des séjours de moins de 7 jours
</td>
<td style="text-align:right;">
75
</td>
<td style="text-align:right;">
79
</td>
<td style="text-align:right;">
74
</td>
<td style="text-align:right;">
79
</td>
<td style="text-align:right;">
78
</td>
<td style="text-align:right;">
84
</td>
</tr>
<tr>
<td style="text-align:left;font-weight: bold;">
Part des séjours de 15 jours ou plus
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
3
</td>
</tr>
<tr>
<td style="text-align:left;font-weight: bold;">
Part de logements détenus par des multiloueurs
</td>
<td style="text-align:right;">
30
</td>
<td style="text-align:right;">
27
</td>
<td style="text-align:right;">
24
</td>
<td style="text-align:right;">
21
</td>
<td style="text-align:right;">
47
</td>
<td style="text-align:right;">
52
</td>
</tr>
<tr>
<td style="text-align:left;font-weight: bold;">
Revenu médian engendré par logement ($)
</td>
<td style="text-align:right;">
3714
</td>
<td style="text-align:right;">
4393
</td>
<td style="text-align:right;">
4050
</td>
<td style="text-align:right;">
5474
</td>
<td style="text-align:right;">
2867
</td>
<td style="text-align:right;">
2502
</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>sejours_com1 <span class="ot">&lt;-</span> com1_reserves <span class="sc">%&gt;%</span> <span class="fu">select</span>(nb_nuitees, duree, ville)</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>sejours_com2 <span class="ot">&lt;-</span> com2_reserves <span class="sc">%&gt;%</span> <span class="fu">select</span>(nb_nuitees, duree, ville)</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>sejours <span class="ot">&lt;-</span> <span class="fu">rbind</span>(sejours_com1, sejours_com2)</span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>sejours<span class="sc">$</span>nb_nuitees <span class="ot">&lt;-</span> <span class="fu">cut</span>(sejours<span class="sc">$</span>nb_nuitees, <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">7</span>, <span class="dv">30</span>, <span class="dv">60</span>, <span class="dv">120</span>, <span class="dv">366</span>), <span class="at">include.lowest =</span> <span class="cn">TRUE</span>)</span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>sejours<span class="sc">$</span>duree <span class="ot">&lt;-</span> <span class="fu">cut</span>(sejours<span class="sc">$</span>duree, <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">7</span>, <span class="dv">15</span>, <span class="dv">31</span>), <span class="at">include.lowest =</span> <span class="cn">TRUE</span>)</span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a>sejours<span class="sc">$</span>nb_nuitees <span class="ot">&lt;-</span> <span class="fu">as.character</span>(sejours<span class="sc">$</span>nb_nuitees)</span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a>sejours<span class="sc">$</span>duree <span class="ot">&lt;-</span> <span class="fu">as.character</span>(sejours<span class="sc">$</span>duree)</span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-10"><a href="#cb10-10" aria-hidden="true" tabindex="-1"></a>sejours<span class="sc">$</span>nb_nuitees[sejours<span class="sc">$</span>nb_nuitees <span class="sc">==</span> <span class="st">&quot;[0,7]&quot;</span>] <span class="ot">&lt;-</span> <span class="st">&quot;&lt; 7 nuitées&quot;</span></span>
<span id="cb10-11"><a href="#cb10-11" aria-hidden="true" tabindex="-1"></a>sejours<span class="sc">$</span>nb_nuitees[sejours<span class="sc">$</span>nb_nuitees <span class="sc">==</span> <span class="st">&quot;(7,30]&quot;</span>] <span class="ot">&lt;-</span> <span class="st">&quot;7 - 30 nuitées&quot;</span></span>
<span id="cb10-12"><a href="#cb10-12" aria-hidden="true" tabindex="-1"></a>sejours<span class="sc">$</span>nb_nuitees[sejours<span class="sc">$</span>nb_nuitees <span class="sc">==</span> <span class="st">&quot;(30,60]&quot;</span>] <span class="ot">&lt;-</span> <span class="st">&quot;30 - 60 nuitées&quot;</span></span>
<span id="cb10-13"><a href="#cb10-13" aria-hidden="true" tabindex="-1"></a>sejours<span class="sc">$</span>nb_nuitees[sejours<span class="sc">$</span>nb_nuitees <span class="sc">==</span> <span class="st">&quot;(60,120]&quot;</span>] <span class="ot">&lt;-</span> <span class="st">&quot;60 - 120 nuitées&quot;</span></span>
<span id="cb10-14"><a href="#cb10-14" aria-hidden="true" tabindex="-1"></a>sejours<span class="sc">$</span>nb_nuitees[sejours<span class="sc">$</span>nb_nuitees <span class="sc">==</span> <span class="st">&quot;(120,366]&quot;</span>] <span class="ot">&lt;-</span> <span class="st">&quot;&gt; 120 nuitées&quot;</span></span>
<span id="cb10-15"><a href="#cb10-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-16"><a href="#cb10-16" aria-hidden="true" tabindex="-1"></a>sejours<span class="sc">$</span>duree[sejours<span class="sc">$</span>duree <span class="sc">==</span> <span class="st">&quot;[0,7]&quot;</span>] <span class="ot">&lt;-</span> <span class="st">&quot;&lt; 7 nuitées&quot;</span></span>
<span id="cb10-17"><a href="#cb10-17" aria-hidden="true" tabindex="-1"></a>sejours<span class="sc">$</span>duree[sejours<span class="sc">$</span>duree <span class="sc">==</span> <span class="st">&quot;(7,15]&quot;</span>] <span class="ot">&lt;-</span> <span class="st">&quot;7 - 15 nuitées&quot;</span></span>
<span id="cb10-18"><a href="#cb10-18" aria-hidden="true" tabindex="-1"></a>sejours<span class="sc">$</span>duree[sejours<span class="sc">$</span>duree <span class="sc">==</span> <span class="st">&quot;(15,31]&quot;</span>] <span class="ot">&lt;-</span> <span class="st">&quot;15 - 31 nuitées&quot;</span></span>
<span id="cb10-19"><a href="#cb10-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-20"><a href="#cb10-20" aria-hidden="true" tabindex="-1"></a>sejours<span class="sc">$</span>nb_nuitees <span class="ot">&lt;-</span> <span class="fu">factor</span>(sejours<span class="sc">$</span>nb_nuitees, <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">&quot;&gt; 120 nuitées&quot;</span>, <span class="st">&quot;60 - 120 nuitées&quot;</span>, <span class="st">&quot;30 - 60 nuitées&quot;</span>, <span class="st">&quot;7 - 30 nuitées&quot;</span>, <span class="st">&quot;&lt; 7 nuitées&quot;</span>))</span>
<span id="cb10-21"><a href="#cb10-21" aria-hidden="true" tabindex="-1"></a>sejours<span class="sc">$</span>duree <span class="ot">&lt;-</span> <span class="fu">factor</span>(sejours<span class="sc">$</span>duree, <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">&quot;15 - 31 nuitées&quot;</span>, <span class="st">&quot;7 - 15 nuitées&quot;</span>, <span class="st">&quot;&lt; 7 nuitées&quot;</span>))</span>
<span id="cb10-22"><a href="#cb10-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-23"><a href="#cb10-23" aria-hidden="true" tabindex="-1"></a>sejours_duree <span class="ot">&lt;-</span> sejours <span class="sc">%&gt;%</span> <span class="fu">select</span>(duree, ville)</span>
<span id="cb10-24"><a href="#cb10-24" aria-hidden="true" tabindex="-1"></a>sejours_nbnuitees <span class="ot">&lt;-</span> sejours <span class="sc">%&gt;%</span> <span class="fu">select</span>(nb_nuitees, ville)</span>
<span id="cb10-25"><a href="#cb10-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-26"><a href="#cb10-26" aria-hidden="true" tabindex="-1"></a>plot_duree <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(<span class="at">data =</span> sejours_duree, <span class="fu">aes</span>(<span class="at">x =</span> ville)) <span class="sc">+</span></span>
<span id="cb10-27"><a href="#cb10-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="fu">aes</span>(<span class="at">fill =</span> duree), <span class="at">position =</span> <span class="st">&quot;fill&quot;</span>) <span class="sc">+</span></span>
<span id="cb10-28"><a href="#cb10-28" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;Durée moyenne des séjours&quot;</span>,</span>
<span id="cb10-29"><a href="#cb10-29" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">&quot;&quot;</span>,</span>
<span id="cb10-30"><a href="#cb10-30" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">&quot;&quot;</span>,</span>
<span id="cb10-31"><a href="#cb10-31" aria-hidden="true" tabindex="-1"></a>       <span class="at">fill =</span> <span class="st">&quot;&quot;</span>,</span>
<span id="cb10-32"><a href="#cb10-32" aria-hidden="true" tabindex="-1"></a>       <span class="at">caption =</span> <span class="st">&quot;source : airdna.co, novembre 2020&quot;</span>) <span class="sc">+</span> </span>
<span id="cb10-33"><a href="#cb10-33" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">labels =</span> scales<span class="sc">::</span>percent)</span>
<span id="cb10-34"><a href="#cb10-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-35"><a href="#cb10-35" aria-hidden="true" tabindex="-1"></a>plot_nuitees <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(<span class="at">data =</span> sejours_nbnuitees, <span class="fu">aes</span>(<span class="at">x =</span> ville)) <span class="sc">+</span></span>
<span id="cb10-36"><a href="#cb10-36" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="fu">aes</span>(<span class="at">fill =</span> nb_nuitees), <span class="at">position =</span> <span class="st">&quot;fill&quot;</span>) <span class="sc">+</span></span>
<span id="cb10-37"><a href="#cb10-37" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;Nombre de nuitées réservées&quot;</span>,</span>
<span id="cb10-38"><a href="#cb10-38" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">&quot;&quot;</span>,</span>
<span id="cb10-39"><a href="#cb10-39" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">&quot;&quot;</span>,</span>
<span id="cb10-40"><a href="#cb10-40" aria-hidden="true" tabindex="-1"></a>       <span class="at">fill =</span> <span class="st">&quot;&quot;</span>,</span>
<span id="cb10-41"><a href="#cb10-41" aria-hidden="true" tabindex="-1"></a>       <span class="at">caption =</span> <span class="st">&quot;source : airdna.co, novembre 2020&quot;</span>) <span class="sc">+</span> </span>
<span id="cb10-42"><a href="#cb10-42" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">labels =</span> scales<span class="sc">::</span>percent)</span></code></pre></div>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>phrase_multi <span class="ot">&lt;-</span> <span class="st">&quot; &quot;</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span>(indicateur[<span class="dv">10</span>,<span class="dv">6</span>] <span class="sc">&gt;</span> indicateur[<span class="dv">10</span>,<span class="dv">4</span>] <span class="sc">&amp;</span> indicateur[<span class="dv">10</span>,<span class="dv">7</span>] <span class="sc">&gt;</span> indicateur[<span class="dv">10</span>,<span class="dv">5</span>]){</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>  phrase_multi <span class="ot">&lt;-</span> <span class="fu">paste0</span>(<span class="st">&quot;Les multiloueurs sont plus enclins à louer des chambres privées dans les deux communes : respectivement &quot;</span>, (indicateur[<span class="dv">10</span>,<span class="dv">6</span>]) <span class="sc">%&gt;%</span> <span class="fu">round</span>(<span class="at">digits =</span> <span class="dv">0</span>), <span class="st">&quot; et &quot;</span>, (indicateur[<span class="dv">10</span>,<span class="dv">7</span>]) <span class="sc">%&gt;%</span> <span class="fu">round</span>(<span class="at">digits =</span> <span class="dv">0</span>), <span class="st">&quot;%  d&#39;entre elles sont louées par des multiloueurs&quot;</span>)</span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>} <span class="cf">else</span> <span class="cf">if</span>(indicateur[<span class="dv">10</span>,<span class="dv">6</span>] <span class="sc">&lt;</span> indicateur[<span class="dv">10</span>,<span class="dv">4</span>] <span class="sc">&amp;</span> indicateur[<span class="dv">10</span>,<span class="dv">7</span>] <span class="sc">&lt;</span> indicateur[<span class="dv">10</span>,<span class="dv">5</span>]){</span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>  phrase_multi <span class="ot">&lt;-</span> <span class="fu">paste0</span>(<span class="st">&quot;Les multiloueurs sont plus enclins à louer des logements entiers dans les deux communes : respectivement &quot;</span>, (indicateur[<span class="dv">10</span>,<span class="dv">4</span>]) <span class="sc">%&gt;%</span> <span class="fu">round</span>(<span class="at">digits =</span> <span class="dv">0</span>), <span class="st">&quot; et &quot;</span>, (indicateur[<span class="dv">10</span>,<span class="dv">5</span>]) <span class="sc">%&gt;%</span> <span class="fu">round</span>(<span class="at">digits =</span> <span class="dv">0</span>), <span class="st">&quot;%  d&#39;entre elles sont louées par des multiloueurs&quot;</span>)</span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a>} <span class="cf">else</span> <span class="cf">if</span>(indicateur[<span class="dv">10</span>,<span class="dv">6</span>] <span class="sc">&gt;</span> indicateur[<span class="dv">10</span>,<span class="dv">4</span>] <span class="sc">&amp;</span> indicateur[<span class="dv">10</span>,<span class="dv">7</span>] <span class="sc">&lt;</span> indicateur[<span class="dv">10</span>,<span class="dv">5</span>]){</span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a>  phrase_multi <span class="ot">&lt;-</span> <span class="fu">paste0</span>(<span class="st">&quot;Les multiloueurs sont plus enclins à louer des chambres privées dans la commune de &quot;</span>, com1_nom, <span class="st">&quot;, tandis qu&#39;on observe l&#39;effet inverse à &quot;</span>, com2_nom)</span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a>} <span class="cf">else</span> <span class="cf">if</span>(indicateur[<span class="dv">10</span>,<span class="dv">6</span>] <span class="sc">&lt;</span> indicateur[<span class="dv">10</span>,<span class="dv">4</span>] <span class="sc">&amp;</span> indicateur[<span class="dv">10</span>,<span class="dv">7</span>] <span class="sc">&gt;</span> indicateur[<span class="dv">10</span>,<span class="dv">5</span>]){</span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a>  phrase_multi <span class="ot">&lt;-</span> <span class="fu">paste0</span>(<span class="st">&quot;Les multiloueurs sont plus enclins à louer des logements entiers dans la commune de &quot;</span>, com1_nom, <span class="st">&quot;, tandis qu&#39;on observe l&#39;effet inverse à &quot;</span>, com2_nom)</span>
<span id="cb11-10"><a href="#cb11-10" aria-hidden="true" tabindex="-1"></a>} <span class="cf">else</span> {</span>
<span id="cb11-11"><a href="#cb11-11" aria-hidden="true" tabindex="-1"></a>  phrase_multi <span class="ot">&lt;-</span> <span class="st">&quot;La part de logements détenus par des multiloueurs est la même, peu importe le type de logement&quot;</span></span>
<span id="cb11-12"><a href="#cb11-12" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb11-13"><a href="#cb11-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-14"><a href="#cb11-14" aria-hidden="true" tabindex="-1"></a>phrase_revenus <span class="ot">&lt;-</span> <span class="st">&quot; &quot;</span></span>
<span id="cb11-15"><a href="#cb11-15" aria-hidden="true" tabindex="-1"></a>plusriche <span class="ot">&lt;-</span> (<span class="fu">max</span>(<span class="fu">median</span>(com1_reserves<span class="sc">$</span>rev_tot), <span class="fu">median</span>(com2_reserves<span class="sc">$</span>rev_tot))) <span class="sc">%&gt;%</span> <span class="fu">round</span>(<span class="at">digits =</span> <span class="dv">0</span>)</span>
<span id="cb11-16"><a href="#cb11-16" aria-hidden="true" tabindex="-1"></a>moinsriche <span class="ot">&lt;-</span> (<span class="fu">min</span>(<span class="fu">median</span>(com1_reserves<span class="sc">$</span>rev_tot), <span class="fu">median</span>(com2_reserves<span class="sc">$</span>rev_tot))) <span class="sc">%&gt;%</span> <span class="fu">round</span>(<span class="at">digits =</span> <span class="dv">0</span>)</span>
<span id="cb11-17"><a href="#cb11-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-18"><a href="#cb11-18" aria-hidden="true" tabindex="-1"></a>ville_plusriche <span class="ot">&lt;-</span> <span class="st">&quot; &quot;</span></span>
<span id="cb11-19"><a href="#cb11-19" aria-hidden="true" tabindex="-1"></a>ville_moinsriche <span class="ot">&lt;-</span> <span class="st">&quot; &quot;</span></span>
<span id="cb11-20"><a href="#cb11-20" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="fu">median</span>(com1_reserves<span class="sc">$</span>rev_tot) <span class="sc">&gt;</span> <span class="fu">median</span>(com2_reserves<span class="sc">$</span>rev_tot)){</span>
<span id="cb11-21"><a href="#cb11-21" aria-hidden="true" tabindex="-1"></a>  ville_plusriche <span class="ot">&lt;-</span> com1_nom</span>
<span id="cb11-22"><a href="#cb11-22" aria-hidden="true" tabindex="-1"></a>  ville_moinsriche <span class="ot">&lt;-</span> com2_nom</span>
<span id="cb11-23"><a href="#cb11-23" aria-hidden="true" tabindex="-1"></a>} <span class="cf">else</span> {</span>
<span id="cb11-24"><a href="#cb11-24" aria-hidden="true" tabindex="-1"></a>  ville_plusriche <span class="ot">&lt;-</span> com2_nom</span>
<span id="cb11-25"><a href="#cb11-25" aria-hidden="true" tabindex="-1"></a>  ville_moinsriche <span class="ot">&lt;-</span> com1_nom</span>
<span id="cb11-26"><a href="#cb11-26" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb11-27"><a href="#cb11-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-28"><a href="#cb11-28" aria-hidden="true" tabindex="-1"></a>phrase <span class="ot">&lt;-</span> <span class="st">&quot;&quot;</span></span>
<span id="cb11-29"><a href="#cb11-29" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span>(ville_pluschere <span class="sc">==</span> ville_plusriche){</span>
<span id="cb11-30"><a href="#cb11-30" aria-hidden="true" tabindex="-1"></a>  phrase <span class="ot">&lt;-</span> <span class="st">&quot;la différence entre les prix pratiqués se répercute dans les revenus&quot;</span></span>
<span id="cb11-31"><a href="#cb11-31" aria-hidden="true" tabindex="-1"></a>} <span class="cf">else</span> {</span>
<span id="cb11-32"><a href="#cb11-32" aria-hidden="true" tabindex="-1"></a>  phrase <span class="ot">&lt;-</span> <span class="st">&quot;la ville qui pratique les prix les plus élevés n&#39;est pas forcément celle où les hôtes engrangent le plus de revenus&quot;</span></span>
<span id="cb11-33"><a href="#cb11-33" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<p>La durée moyenne des séjours ainsi que le nombre total de nuitées réservées représentent des indicateurs intéressants de l’activité d’Airbnb dans une ville : on dénombre respectivement 75 et 79% de séjours courts, c’est-à-dire inférieurs à une semaine, et environ un quart des logements ont engrangé plus de 120 nuitées réservées dans les deux communes. Les multiloueurs sont plus enclins à louer des chambres privées dans les deux communes : respectivement 47 et 52% d’entre elles sont louées par des multiloueurs. Enfin, la différence entre les prix pratiqués se répercute dans les revenus : les logements Airbnb de la commune de Issy ont engrangé un revenu médian de 4393$ en 2019, contre 3714$ à Pantin, soit des revenus supérieurs de l’ordre de 18% à Issy.</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(gridExtra) <span class="co"># pour mettre 2 graphiques côte à côte</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a><span class="fu">grid.arrange</span>(plot_duree, plot_nuitees, <span class="at">ncol =</span> <span class="dv">2</span>)</span></code></pre></div>
<p><img src="compar_files/figure-html/unnamed-chunk-12-1.png" width="672" /></p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>breaks <span class="ot">&lt;-</span> <span class="fu">seq</span>(<span class="dv">0</span>, <span class="fu">max</span>(com1_reserves<span class="sc">$</span>rev_tot), <span class="at">by =</span> <span class="dv">1</span>)</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>test <span class="ot">&lt;-</span> com1_reserves</span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>test<span class="sc">$</span>nb_log <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a>test<span class="sc">$</span>intervalle <span class="ot">&lt;-</span> <span class="fu">findInterval</span>(test<span class="sc">$</span>rev_tot, <span class="at">vec =</span> breaks)</span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a>test<span class="sc">$</span>intervalle <span class="ot">&lt;-</span> breaks[test<span class="sc">$</span>intervalle]</span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a>dist <span class="ot">&lt;-</span> <span class="fu">aggregate</span>(test<span class="sc">$</span>rev_tot, <span class="at">by =</span> <span class="fu">list</span>(test<span class="sc">$</span>intervalle), sum)</span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-9"><a href="#cb13-9" aria-hidden="true" tabindex="-1"></a>dist<span class="sc">$</span>freq <span class="ot">&lt;-</span> <span class="fu">cumsum</span>(dist<span class="sc">$</span>x)</span>
<span id="cb13-10"><a href="#cb13-10" aria-hidden="true" tabindex="-1"></a>dist<span class="sc">$</span>nb_log <span class="ot">&lt;-</span> dist<span class="sc">$</span>x <span class="sc">/</span> dist<span class="sc">$</span>Group<span class="fl">.1</span></span>
<span id="cb13-11"><a href="#cb13-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-12"><a href="#cb13-12" aria-hidden="true" tabindex="-1"></a>dist<span class="sc">$</span>cumul <span class="ot">&lt;-</span> dist<span class="sc">$</span>freq<span class="sc">/</span>dist[<span class="fu">nrow</span>(dist), <span class="dv">3</span>]<span class="sc">*</span> <span class="dv">100</span></span>
<span id="cb13-13"><a href="#cb13-13" aria-hidden="true" tabindex="-1"></a>dist<span class="sc">$</span>cumul <span class="ot">&lt;-</span> dist<span class="sc">$</span>cumul <span class="sc">%&gt;%</span> <span class="fu">round</span>(<span class="at">digits =</span> <span class="dv">2</span>)</span>
<span id="cb13-14"><a href="#cb13-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-15"><a href="#cb13-15" aria-hidden="true" tabindex="-1"></a>dist<span class="sc">$</span>cumul_log <span class="ot">&lt;-</span> <span class="fu">cumsum</span>(dist<span class="sc">$</span>nb_log)</span>
<span id="cb13-16"><a href="#cb13-16" aria-hidden="true" tabindex="-1"></a>dist<span class="sc">$</span>cumul_log <span class="ot">&lt;-</span> dist<span class="sc">$</span>cumul_log <span class="sc">/</span> <span class="fu">max</span>(dist<span class="sc">$</span>cumul_log)</span>
<span id="cb13-17"><a href="#cb13-17" aria-hidden="true" tabindex="-1"></a>dist<span class="sc">$</span>cumul_log <span class="ot">&lt;-</span> dist<span class="sc">$</span>cumul_log <span class="sc">*</span> <span class="dv">100</span></span>
<span id="cb13-18"><a href="#cb13-18" aria-hidden="true" tabindex="-1"></a>dist<span class="sc">$</span>cumul_log <span class="ot">&lt;-</span> dist<span class="sc">$</span>cumul_log <span class="sc">%&gt;%</span> <span class="fu">round</span>(<span class="at">digits =</span> <span class="dv">2</span>)</span>
<span id="cb13-19"><a href="#cb13-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-20"><a href="#cb13-20" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(dist) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;rev_tot&quot;</span>, <span class="st">&quot;rev_tot_tot&quot;</span>, <span class="st">&quot;cumul&quot;</span>, <span class="st">&quot;nb_log&quot;</span>, <span class="st">&quot;cumulpct&quot;</span>, <span class="st">&quot;cumul_log&quot;</span>)</span>
<span id="cb13-21"><a href="#cb13-21" aria-hidden="true" tabindex="-1"></a>dist<span class="sc">$</span>ville <span class="ot">&lt;-</span> com1_nom</span>
<span id="cb13-22"><a href="#cb13-22" aria-hidden="true" tabindex="-1"></a>dist<span class="sc">$</span>cumulpct <span class="ot">&lt;-</span> <span class="dv">100</span> <span class="sc">-</span>dist<span class="sc">$</span>cumulpct</span>
<span id="cb13-23"><a href="#cb13-23" aria-hidden="true" tabindex="-1"></a>dist<span class="sc">$</span>cumul_log <span class="ot">&lt;-</span> <span class="dv">100</span> <span class="sc">-</span>dist<span class="sc">$</span>cumul_log</span>
<span id="cb13-24"><a href="#cb13-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-25"><a href="#cb13-25" aria-hidden="true" tabindex="-1"></a>breaks2 <span class="ot">&lt;-</span> <span class="fu">seq</span>(<span class="dv">0</span>, <span class="fu">max</span>(com2_reserves<span class="sc">$</span>rev_tot), <span class="at">by =</span> <span class="dv">1</span>)</span>
<span id="cb13-26"><a href="#cb13-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-27"><a href="#cb13-27" aria-hidden="true" tabindex="-1"></a>test2 <span class="ot">&lt;-</span> com2_reserves</span>
<span id="cb13-28"><a href="#cb13-28" aria-hidden="true" tabindex="-1"></a>test2<span class="sc">$</span>nb_log <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb13-29"><a href="#cb13-29" aria-hidden="true" tabindex="-1"></a>test2<span class="sc">$</span>intervalle <span class="ot">&lt;-</span> <span class="fu">findInterval</span>(test2<span class="sc">$</span>rev_tot, <span class="at">vec =</span> breaks2)</span>
<span id="cb13-30"><a href="#cb13-30" aria-hidden="true" tabindex="-1"></a>test2<span class="sc">$</span>intervalle <span class="ot">&lt;-</span> breaks2[test2<span class="sc">$</span>intervalle]</span>
<span id="cb13-31"><a href="#cb13-31" aria-hidden="true" tabindex="-1"></a>dist2 <span class="ot">&lt;-</span> <span class="fu">aggregate</span>(test2<span class="sc">$</span>rev_tot, <span class="at">by =</span> <span class="fu">list</span>(test2<span class="sc">$</span>intervalle), sum)</span>
<span id="cb13-32"><a href="#cb13-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-33"><a href="#cb13-33" aria-hidden="true" tabindex="-1"></a>dist2<span class="sc">$</span>freq <span class="ot">&lt;-</span> <span class="fu">cumsum</span>(dist2<span class="sc">$</span>x)</span>
<span id="cb13-34"><a href="#cb13-34" aria-hidden="true" tabindex="-1"></a>dist2<span class="sc">$</span>nb_log <span class="ot">&lt;-</span> dist2<span class="sc">$</span>x <span class="sc">/</span> dist2<span class="sc">$</span>Group<span class="fl">.1</span></span>
<span id="cb13-35"><a href="#cb13-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-36"><a href="#cb13-36" aria-hidden="true" tabindex="-1"></a>dist2<span class="sc">$</span>cumul <span class="ot">&lt;-</span> dist2<span class="sc">$</span>freq<span class="sc">/</span>dist2[<span class="fu">nrow</span>(dist2), <span class="dv">3</span>]<span class="sc">*</span> <span class="dv">100</span></span>
<span id="cb13-37"><a href="#cb13-37" aria-hidden="true" tabindex="-1"></a>dist2<span class="sc">$</span>cumul <span class="ot">&lt;-</span> dist2<span class="sc">$</span>cumul <span class="sc">%&gt;%</span> <span class="fu">round</span>(<span class="at">digits =</span> <span class="dv">2</span>)</span>
<span id="cb13-38"><a href="#cb13-38" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-39"><a href="#cb13-39" aria-hidden="true" tabindex="-1"></a>dist2<span class="sc">$</span>cumul_log <span class="ot">&lt;-</span> <span class="fu">cumsum</span>(dist2<span class="sc">$</span>nb_log)</span>
<span id="cb13-40"><a href="#cb13-40" aria-hidden="true" tabindex="-1"></a>dist2<span class="sc">$</span>cumul_log <span class="ot">&lt;-</span> dist2<span class="sc">$</span>cumul_log <span class="sc">/</span> <span class="fu">max</span>(dist2<span class="sc">$</span>cumul_log)</span>
<span id="cb13-41"><a href="#cb13-41" aria-hidden="true" tabindex="-1"></a>dist2<span class="sc">$</span>cumul_log <span class="ot">&lt;-</span> dist2<span class="sc">$</span>cumul_log <span class="sc">*</span> <span class="dv">100</span></span>
<span id="cb13-42"><a href="#cb13-42" aria-hidden="true" tabindex="-1"></a>dist2<span class="sc">$</span>cumul_log <span class="ot">&lt;-</span> dist2<span class="sc">$</span>cumul_log <span class="sc">%&gt;%</span> <span class="fu">round</span>(<span class="at">digits =</span> <span class="dv">2</span>)</span>
<span id="cb13-43"><a href="#cb13-43" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-44"><a href="#cb13-44" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(dist2) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;rev_tot&quot;</span>, <span class="st">&quot;rev_tot_tot&quot;</span>, <span class="st">&quot;cumul&quot;</span>, <span class="st">&quot;nb_log&quot;</span>, <span class="st">&quot;cumulpct&quot;</span>, <span class="st">&quot;cumul_log&quot;</span>)</span>
<span id="cb13-45"><a href="#cb13-45" aria-hidden="true" tabindex="-1"></a>dist2<span class="sc">$</span>ville <span class="ot">&lt;-</span> com2_nom</span>
<span id="cb13-46"><a href="#cb13-46" aria-hidden="true" tabindex="-1"></a>dist2<span class="sc">$</span>cumulpct <span class="ot">&lt;-</span> <span class="dv">100</span> <span class="sc">-</span>dist2<span class="sc">$</span>cumulpct</span>
<span id="cb13-47"><a href="#cb13-47" aria-hidden="true" tabindex="-1"></a>dist2<span class="sc">$</span>cumul_log <span class="ot">&lt;-</span> <span class="dv">100</span> <span class="sc">-</span>dist2<span class="sc">$</span>cumul_log</span></code></pre></div>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>courbe <span class="ot">&lt;-</span> <span class="fu">rbind</span>(dist, dist2)</span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>plot1 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(<span class="at">data =</span> courbe, <span class="fu">aes</span>(<span class="at">x =</span> cumul_log, <span class="at">y =</span> cumulpct))<span class="sc">+</span></span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">color =</span> ville)) <span class="sc">+</span></span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;Concentration des revenus par logements&quot;</span>,</span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">&quot;Nombre de logements (%)&quot;</span>,</span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">&quot;Revenus totaux (%)&quot;</span>,</span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a>       <span class="at">caption =</span> <span class="fu">paste</span>(<span class="st">&quot;source : airdna.co,&quot;</span>, periode)) <span class="sc">+</span></span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">breaks =</span> <span class="fu">seq</span>(<span class="dv">0</span>,<span class="dv">100</span>,<span class="dv">10</span>)) <span class="sc">+</span></span>
<span id="cb14-9"><a href="#cb14-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">breaks =</span> <span class="fu">seq</span>(<span class="dv">0</span>,<span class="dv">100</span>,<span class="dv">10</span>)) <span class="sc">+</span></span>
<span id="cb14-10"><a href="#cb14-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="fu">c</span>(<span class="fl">0.75</span>,<span class="fl">0.15</span>),</span>
<span id="cb14-11"><a href="#cb14-11" aria-hidden="true" tabindex="-1"></a>        <span class="at">legend.background =</span> <span class="fu">element_rect</span>(<span class="at">fill =</span> <span class="cn">NA</span>),</span>
<span id="cb14-12"><a href="#cb14-12" aria-hidden="true" tabindex="-1"></a>        <span class="at">legend.box.background =</span> <span class="fu">element_rect</span>(<span class="at">fill =</span> <span class="cn">NA</span>))</span></code></pre></div>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>breaks3 <span class="ot">&lt;-</span> <span class="fu">seq</span>(<span class="dv">0</span>, <span class="fu">max</span>(com1_reserves<span class="sc">$</span>nb_nuitees), <span class="at">by =</span> <span class="dv">1</span>)</span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>test3 <span class="ot">&lt;-</span> com1_reserves</span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>test3<span class="sc">$</span>nb_log <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a>test3<span class="sc">$</span>intervalle <span class="ot">&lt;-</span> <span class="fu">findInterval</span>(test3<span class="sc">$</span>nb_nuitees, <span class="at">vec =</span> breaks3)</span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a>test3<span class="sc">$</span>intervalle <span class="ot">&lt;-</span> breaks3[test3<span class="sc">$</span>intervalle]</span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a>dist3 <span class="ot">&lt;-</span> <span class="fu">aggregate</span>(test3<span class="sc">$</span>nb_nuitees, <span class="at">by =</span> <span class="fu">list</span>(test3<span class="sc">$</span>intervalle), sum)</span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-9"><a href="#cb15-9" aria-hidden="true" tabindex="-1"></a>dist3<span class="sc">$</span>freq <span class="ot">&lt;-</span> <span class="fu">cumsum</span>(dist3<span class="sc">$</span>x)</span>
<span id="cb15-10"><a href="#cb15-10" aria-hidden="true" tabindex="-1"></a>dist3<span class="sc">$</span>nb_log <span class="ot">&lt;-</span> dist3<span class="sc">$</span>x <span class="sc">/</span> dist3<span class="sc">$</span>Group<span class="fl">.1</span></span>
<span id="cb15-11"><a href="#cb15-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-12"><a href="#cb15-12" aria-hidden="true" tabindex="-1"></a>dist3<span class="sc">$</span>cumul <span class="ot">&lt;-</span> dist3<span class="sc">$</span>freq<span class="sc">/</span>dist3[<span class="fu">nrow</span>(dist3), <span class="dv">3</span>]<span class="sc">*</span> <span class="dv">100</span></span>
<span id="cb15-13"><a href="#cb15-13" aria-hidden="true" tabindex="-1"></a>dist3<span class="sc">$</span>cumul <span class="ot">&lt;-</span> dist3<span class="sc">$</span>cumul <span class="sc">%&gt;%</span> <span class="fu">round</span>(<span class="at">digits =</span> <span class="dv">2</span>)</span>
<span id="cb15-14"><a href="#cb15-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-15"><a href="#cb15-15" aria-hidden="true" tabindex="-1"></a>dist3<span class="sc">$</span>cumul_log <span class="ot">&lt;-</span> <span class="fu">cumsum</span>(dist3<span class="sc">$</span>nb_log)</span>
<span id="cb15-16"><a href="#cb15-16" aria-hidden="true" tabindex="-1"></a>dist3<span class="sc">$</span>cumul_log <span class="ot">&lt;-</span> dist3<span class="sc">$</span>cumul_log <span class="sc">/</span> <span class="fu">max</span>(dist3<span class="sc">$</span>cumul_log)</span>
<span id="cb15-17"><a href="#cb15-17" aria-hidden="true" tabindex="-1"></a>dist3<span class="sc">$</span>cumul_log <span class="ot">&lt;-</span> dist3<span class="sc">$</span>cumul_log <span class="sc">*</span> <span class="dv">100</span></span>
<span id="cb15-18"><a href="#cb15-18" aria-hidden="true" tabindex="-1"></a>dist3<span class="sc">$</span>cumul_log <span class="ot">&lt;-</span> dist3<span class="sc">$</span>cumul_log <span class="sc">%&gt;%</span> <span class="fu">round</span>(<span class="at">digits =</span> <span class="dv">2</span>)</span>
<span id="cb15-19"><a href="#cb15-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-20"><a href="#cb15-20" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(dist3) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;nuitees_tot&quot;</span>, <span class="st">&quot;nuitees_tot_tot&quot;</span>, <span class="st">&quot;cumul&quot;</span>, <span class="st">&quot;nb_log&quot;</span>, <span class="st">&quot;cumulpct&quot;</span>, <span class="st">&quot;cumul_log&quot;</span>)</span>
<span id="cb15-21"><a href="#cb15-21" aria-hidden="true" tabindex="-1"></a>dist3<span class="sc">$</span>ville <span class="ot">&lt;-</span> com1_nom</span>
<span id="cb15-22"><a href="#cb15-22" aria-hidden="true" tabindex="-1"></a>dist3<span class="sc">$</span>cumulpct <span class="ot">&lt;-</span> <span class="dv">100</span> <span class="sc">-</span>dist3<span class="sc">$</span>cumulpct</span>
<span id="cb15-23"><a href="#cb15-23" aria-hidden="true" tabindex="-1"></a>dist3<span class="sc">$</span>cumul_log <span class="ot">&lt;-</span> <span class="dv">100</span> <span class="sc">-</span>dist3<span class="sc">$</span>cumul_log</span>
<span id="cb15-24"><a href="#cb15-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-25"><a href="#cb15-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-26"><a href="#cb15-26" aria-hidden="true" tabindex="-1"></a>breaks4 <span class="ot">&lt;-</span> <span class="fu">seq</span>(<span class="dv">0</span>, <span class="fu">max</span>(com2_reserves<span class="sc">$</span>nb_nuitees), <span class="at">by =</span> <span class="dv">1</span>)</span>
<span id="cb15-27"><a href="#cb15-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-28"><a href="#cb15-28" aria-hidden="true" tabindex="-1"></a>test4 <span class="ot">&lt;-</span> com2_reserves</span>
<span id="cb15-29"><a href="#cb15-29" aria-hidden="true" tabindex="-1"></a>test4<span class="sc">$</span>nb_log <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb15-30"><a href="#cb15-30" aria-hidden="true" tabindex="-1"></a>test4<span class="sc">$</span>intervalle <span class="ot">&lt;-</span> <span class="fu">findInterval</span>(test4<span class="sc">$</span>nb_nuitees, <span class="at">vec =</span> breaks4)</span>
<span id="cb15-31"><a href="#cb15-31" aria-hidden="true" tabindex="-1"></a>test4<span class="sc">$</span>intervalle <span class="ot">&lt;-</span> breaks4[test4<span class="sc">$</span>intervalle]</span>
<span id="cb15-32"><a href="#cb15-32" aria-hidden="true" tabindex="-1"></a>dist4 <span class="ot">&lt;-</span> <span class="fu">aggregate</span>(test4<span class="sc">$</span>nb_nuitees, <span class="at">by =</span> <span class="fu">list</span>(test4<span class="sc">$</span>intervalle), sum)</span>
<span id="cb15-33"><a href="#cb15-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-34"><a href="#cb15-34" aria-hidden="true" tabindex="-1"></a>dist4<span class="sc">$</span>freq <span class="ot">&lt;-</span> <span class="fu">cumsum</span>(dist4<span class="sc">$</span>x)</span>
<span id="cb15-35"><a href="#cb15-35" aria-hidden="true" tabindex="-1"></a>dist4<span class="sc">$</span>nb_log <span class="ot">&lt;-</span> dist4<span class="sc">$</span>x <span class="sc">/</span> dist4<span class="sc">$</span>Group<span class="fl">.1</span></span>
<span id="cb15-36"><a href="#cb15-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-37"><a href="#cb15-37" aria-hidden="true" tabindex="-1"></a>dist4<span class="sc">$</span>cumul <span class="ot">&lt;-</span> dist4<span class="sc">$</span>freq<span class="sc">/</span>dist4[<span class="fu">nrow</span>(dist4), <span class="dv">3</span>]<span class="sc">*</span> <span class="dv">100</span></span>
<span id="cb15-38"><a href="#cb15-38" aria-hidden="true" tabindex="-1"></a>dist4<span class="sc">$</span>cumul <span class="ot">&lt;-</span> dist4<span class="sc">$</span>cumul <span class="sc">%&gt;%</span> <span class="fu">round</span>(<span class="at">digits =</span> <span class="dv">2</span>)</span>
<span id="cb15-39"><a href="#cb15-39" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-40"><a href="#cb15-40" aria-hidden="true" tabindex="-1"></a>dist4<span class="sc">$</span>cumul_log <span class="ot">&lt;-</span> <span class="fu">cumsum</span>(dist4<span class="sc">$</span>nb_log)</span>
<span id="cb15-41"><a href="#cb15-41" aria-hidden="true" tabindex="-1"></a>dist4<span class="sc">$</span>cumul_log <span class="ot">&lt;-</span> dist4<span class="sc">$</span>cumul_log <span class="sc">/</span> <span class="fu">max</span>(dist4<span class="sc">$</span>cumul_log)</span>
<span id="cb15-42"><a href="#cb15-42" aria-hidden="true" tabindex="-1"></a>dist4<span class="sc">$</span>cumul_log <span class="ot">&lt;-</span> dist4<span class="sc">$</span>cumul_log <span class="sc">*</span> <span class="dv">100</span></span>
<span id="cb15-43"><a href="#cb15-43" aria-hidden="true" tabindex="-1"></a>dist4<span class="sc">$</span>cumul_log <span class="ot">&lt;-</span> dist4<span class="sc">$</span>cumul_log <span class="sc">%&gt;%</span> <span class="fu">round</span>(<span class="at">digits =</span> <span class="dv">2</span>)</span>
<span id="cb15-44"><a href="#cb15-44" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-45"><a href="#cb15-45" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(dist4) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;nuitees_tot&quot;</span>, <span class="st">&quot;nuitees_tot_tot&quot;</span>, <span class="st">&quot;cumul&quot;</span>, <span class="st">&quot;nb_log&quot;</span>, <span class="st">&quot;cumulpct&quot;</span>, <span class="st">&quot;cumul_log&quot;</span>)</span>
<span id="cb15-46"><a href="#cb15-46" aria-hidden="true" tabindex="-1"></a>dist4<span class="sc">$</span>ville <span class="ot">&lt;-</span> com2_nom</span>
<span id="cb15-47"><a href="#cb15-47" aria-hidden="true" tabindex="-1"></a>dist4<span class="sc">$</span>cumulpct <span class="ot">&lt;-</span> <span class="dv">100</span> <span class="sc">-</span>dist4<span class="sc">$</span>cumulpct</span>
<span id="cb15-48"><a href="#cb15-48" aria-hidden="true" tabindex="-1"></a>dist4<span class="sc">$</span>cumul_log <span class="ot">&lt;-</span> <span class="dv">100</span> <span class="sc">-</span>dist4<span class="sc">$</span>cumul_log</span></code></pre></div>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>courbe2 <span class="ot">&lt;-</span> <span class="fu">rbind</span>(dist3, dist4)</span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>plot2 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(<span class="at">data =</span> courbe2, <span class="fu">aes</span>(<span class="at">x =</span> cumul_log, <span class="at">y =</span> cumulpct))<span class="sc">+</span></span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">color =</span> ville)) <span class="sc">+</span></span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;Concentration des nuitées par logements&quot;</span>,</span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">&quot;Nombre de logements (%)&quot;</span>,</span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">&quot;Effectif cumulé des nuitées réservées (%)&quot;</span>,</span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a>       <span class="at">caption =</span> <span class="fu">paste</span>(<span class="st">&quot;source : airdna.co,&quot;</span>, periode)) <span class="sc">+</span></span>
<span id="cb16-8"><a href="#cb16-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">breaks =</span> <span class="fu">seq</span>(<span class="dv">0</span>,<span class="dv">100</span>,<span class="dv">10</span>)) <span class="sc">+</span></span>
<span id="cb16-9"><a href="#cb16-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">breaks =</span> <span class="fu">seq</span>(<span class="dv">0</span>,<span class="dv">100</span>,<span class="dv">10</span>)) <span class="sc">+</span></span>
<span id="cb16-10"><a href="#cb16-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">&quot;none&quot;</span>)</span></code></pre></div>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="co"># ref nb de logements / revenus pour l&#39;interprétation</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>ref_x <span class="ot">&lt;-</span> dist <span class="sc">%&gt;%</span> <span class="fu">filter</span>(<span class="fu">abs</span>(cumul_log<span class="dv">-20</span>) <span class="sc">==</span> <span class="fu">min</span>(<span class="fu">abs</span>(cumul_log<span class="dv">-20</span>)))</span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>ref_x <span class="ot">&lt;-</span> ref_x[<span class="dv">1</span>,<span class="dv">6</span>]</span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a>val_y <span class="ot">&lt;-</span> dist <span class="sc">%&gt;%</span> <span class="fu">filter</span>(cumul_log <span class="sc">==</span> ref_x)</span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a>val_y <span class="ot">&lt;-</span> val_y[<span class="dv">1</span>,<span class="dv">5</span>]</span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a>ref_x2 <span class="ot">&lt;-</span> dist2 <span class="sc">%&gt;%</span> <span class="fu">filter</span>(<span class="fu">abs</span>(cumul_log<span class="dv">-20</span>) <span class="sc">==</span> <span class="fu">min</span>(<span class="fu">abs</span>(cumul_log<span class="dv">-20</span>)))</span>
<span id="cb17-8"><a href="#cb17-8" aria-hidden="true" tabindex="-1"></a>ref_x2 <span class="ot">&lt;-</span> ref_x2[<span class="dv">1</span>,<span class="dv">6</span>]</span>
<span id="cb17-9"><a href="#cb17-9" aria-hidden="true" tabindex="-1"></a>val_y2 <span class="ot">&lt;-</span> dist2 <span class="sc">%&gt;%</span> <span class="fu">filter</span>(cumul_log <span class="sc">==</span> ref_x2)</span>
<span id="cb17-10"><a href="#cb17-10" aria-hidden="true" tabindex="-1"></a>val_y2 <span class="ot">&lt;-</span> val_y2[<span class="dv">1</span>,<span class="dv">5</span>]</span>
<span id="cb17-11"><a href="#cb17-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-12"><a href="#cb17-12" aria-hidden="true" tabindex="-1"></a>phrase <span class="ot">&lt;-</span> <span class="st">&quot; &quot;</span></span>
<span id="cb17-13"><a href="#cb17-13" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span>(val_y <span class="sc">==</span> val_y2){</span>
<span id="cb17-14"><a href="#cb17-14" aria-hidden="true" tabindex="-1"></a>  phrase <span class="ot">&lt;-</span> <span class="fu">paste0</span>(<span class="st">&quot;En effet, dans les deux communes, la distribution des revenus parmi les logements est similaire : &quot;</span>, ref_x, <span class="st">&quot;% des logements concentrent &quot;</span>, val_y, <span class="st">&quot;% des revenus totaux des communes.&quot;</span>) </span>
<span id="cb17-15"><a href="#cb17-15" aria-hidden="true" tabindex="-1"></a>  } <span class="cf">else</span> <span class="cf">if</span>(val_y <span class="sc">&gt;</span> val_y2) {</span>
<span id="cb17-16"><a href="#cb17-16" aria-hidden="true" tabindex="-1"></a>    phrase <span class="ot">&lt;-</span> <span class="fu">paste0</span>(<span class="st">&quot;En effet, dans la commune de &quot;</span>, com1_nom, <span class="st">&quot;, &quot;</span>, ref_x, <span class="st">&quot;% des logements concentrent &quot;</span>, val_y, <span class="st">&quot;% des revenus totaux contre &quot;</span>, val_y2, <span class="st">&quot;% à &quot;</span>, com2_nom, <span class="st">&quot;.&quot;</span>)</span>
<span id="cb17-17"><a href="#cb17-17" aria-hidden="true" tabindex="-1"></a>  } <span class="cf">else</span> {</span>
<span id="cb17-18"><a href="#cb17-18" aria-hidden="true" tabindex="-1"></a>      phrase <span class="ot">&lt;-</span> <span class="fu">paste0</span>(<span class="st">&quot;En effet, dans la commune de &quot;</span>, com2_nom, <span class="st">&quot;, &quot;</span>, ref_x2, <span class="st">&quot;% des logements concentrent &quot;</span>, val_y2, <span class="st">&quot;% des revenus totaux contre &quot;</span>, val_y, <span class="st">&quot;% à &quot;</span>, com1_nom, <span class="st">&quot;.&quot;</span>)</span>
<span id="cb17-19"><a href="#cb17-19" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb17-20"><a href="#cb17-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-21"><a href="#cb17-21" aria-hidden="true" tabindex="-1"></a><span class="co"># nb de logements / nuitees</span></span>
<span id="cb17-22"><a href="#cb17-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-23"><a href="#cb17-23" aria-hidden="true" tabindex="-1"></a>ref2_x <span class="ot">&lt;-</span> dist3 <span class="sc">%&gt;%</span> <span class="fu">filter</span>(<span class="fu">abs</span>(cumul_log<span class="dv">-20</span>) <span class="sc">==</span> <span class="fu">min</span>(<span class="fu">abs</span>(cumul_log<span class="dv">-20</span>)))</span>
<span id="cb17-24"><a href="#cb17-24" aria-hidden="true" tabindex="-1"></a>ref2_x <span class="ot">&lt;-</span> ref2_x[<span class="dv">1</span>,<span class="dv">6</span>]</span>
<span id="cb17-25"><a href="#cb17-25" aria-hidden="true" tabindex="-1"></a>val2_y <span class="ot">&lt;-</span> dist3 <span class="sc">%&gt;%</span> <span class="fu">filter</span>(cumul_log <span class="sc">==</span> ref2_x)</span>
<span id="cb17-26"><a href="#cb17-26" aria-hidden="true" tabindex="-1"></a>val2_y <span class="ot">&lt;-</span> val2_y[<span class="dv">1</span>,<span class="dv">5</span>]</span>
<span id="cb17-27"><a href="#cb17-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-28"><a href="#cb17-28" aria-hidden="true" tabindex="-1"></a>ref2_x2 <span class="ot">&lt;-</span> dist4 <span class="sc">%&gt;%</span> <span class="fu">filter</span>(<span class="fu">abs</span>(cumul_log<span class="dv">-20</span>) <span class="sc">==</span> <span class="fu">min</span>(<span class="fu">abs</span>(cumul_log<span class="dv">-20</span>)))</span>
<span id="cb17-29"><a href="#cb17-29" aria-hidden="true" tabindex="-1"></a>ref2_x2 <span class="ot">&lt;-</span> ref2_x2[<span class="dv">1</span>,<span class="dv">6</span>]</span>
<span id="cb17-30"><a href="#cb17-30" aria-hidden="true" tabindex="-1"></a>val2_y2 <span class="ot">&lt;-</span> dist4 <span class="sc">%&gt;%</span> <span class="fu">filter</span>(cumul_log <span class="sc">==</span> ref2_x2)</span>
<span id="cb17-31"><a href="#cb17-31" aria-hidden="true" tabindex="-1"></a>val2_y2 <span class="ot">&lt;-</span> val2_y2[<span class="dv">1</span>,<span class="dv">5</span>]</span>
<span id="cb17-32"><a href="#cb17-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-33"><a href="#cb17-33" aria-hidden="true" tabindex="-1"></a>phrase2 <span class="ot">&lt;-</span> <span class="st">&quot; &quot;</span></span>
<span id="cb17-34"><a href="#cb17-34" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span>(val2_y <span class="sc">==</span> val2_y2){</span>
<span id="cb17-35"><a href="#cb17-35" aria-hidden="true" tabindex="-1"></a>  phrase2 <span class="ot">&lt;-</span> <span class="fu">paste0</span>(<span class="st">&quot;On observe dans le second graphique que dans les deux communes, la distribution du nombre de nuitées parmi les logements est similaire : &quot;</span>, ref2_x, <span class="st">&quot;% des logements concentrent &quot;</span>, val2_y, <span class="st">&quot;% des nuitées totales des communes.&quot;</span>) </span>
<span id="cb17-36"><a href="#cb17-36" aria-hidden="true" tabindex="-1"></a>  } <span class="cf">else</span> <span class="cf">if</span>(val2_y <span class="sc">&gt;</span> val2_y2) {</span>
<span id="cb17-37"><a href="#cb17-37" aria-hidden="true" tabindex="-1"></a>    phrase2 <span class="ot">&lt;-</span> <span class="fu">paste0</span>(<span class="st">&quot;On observe dans le second graphique que les nuitées sont plus concentrées dans la commune de &quot;</span>, com1_nom, <span class="st">&quot; : &quot;</span>, ref2_x, <span class="st">&quot;% des logements y concentrent &quot;</span>, val2_y, <span class="st">&quot;% des nuitées totales contre &quot;</span>, val2_y2, <span class="st">&quot;% à &quot;</span>, com2_nom, <span class="st">&quot;.&quot;</span>)</span>
<span id="cb17-38"><a href="#cb17-38" aria-hidden="true" tabindex="-1"></a>  } <span class="cf">else</span> {</span>
<span id="cb17-39"><a href="#cb17-39" aria-hidden="true" tabindex="-1"></a>      phrase2 <span class="ot">&lt;-</span> <span class="fu">paste0</span>(<span class="st">&quot;On observe dans le second graphique que les nuitées sont plus concentrées dans la commune de &quot;</span>, com2_nom, <span class="st">&quot; : &quot;</span>, ref2_x2, <span class="st">&quot;% des logements y concentrent &quot;</span>, val2_y2, <span class="st">&quot;% des nuitées totales contre &quot;</span>, val2_y, <span class="st">&quot;% à &quot;</span>, com1_nom, <span class="st">&quot;.&quot;</span>)</span>
<span id="cb17-40"><a href="#cb17-40" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb17-41"><a href="#cb17-41" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-42"><a href="#cb17-42" aria-hidden="true" tabindex="-1"></a>phrase3 <span class="ot">&lt;-</span> <span class="st">&quot; &quot;</span></span>
<span id="cb17-43"><a href="#cb17-43" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span>(val_y <span class="sc">==</span> val_y2 <span class="sc">&amp;</span> val2_y <span class="sc">==</span> val2_y2 <span class="sc">&amp;</span> ref_x <span class="sc">==</span> ref2_x){</span>
<span id="cb17-44"><a href="#cb17-44" aria-hidden="true" tabindex="-1"></a>  phrase <span class="ot">&lt;-</span> <span class="st">&quot;&quot;</span></span>
<span id="cb17-45"><a href="#cb17-45" aria-hidden="true" tabindex="-1"></a>  phrase2 <span class="ot">&lt;-</span> <span class="st">&quot;&quot;</span></span>
<span id="cb17-46"><a href="#cb17-46" aria-hidden="true" tabindex="-1"></a>  phrase3 <span class="ot">&lt;-</span> <span class="fu">paste0</span>(<span class="st">&quot;Les profils des communes sont très similaires : dans les deux cas, &quot;</span>, ref_x, <span class="st">&quot;% des logements concentrent &quot;</span>, val_y, <span class="st">&quot;% des revenus totaux des communes et &quot;</span>, val2_y, <span class="st">&quot;% des nuitées totales des communes.&quot;</span>)</span>
<span id="cb17-47"><a href="#cb17-47" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<p>Lorsque l’on s’intéresse à la distribution des revenus ainsi que des nuitées réservées, on observe une poignée de logements qui concentrent la majeure partie de l’activité dans les deux communes. En effet, dans la commune de Issy, 20% des logements concentrent 60.28% des revenus totaux contre 55.64% à Pantin. On observe dans le second graphique que les nuitées sont plus concentrées dans la commune de Pantin : 20% des logements y concentrent 51.9% des nuitées totales contre 51.52% à Issy.</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="fu">grid.arrange</span>(plot1, plot2, <span class="at">ncol =</span> <span class="dv">2</span>)</span></code></pre></div>
<p><img src="compar_files/figure-html/unnamed-chunk-18-1.png" width="672" /></p>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>riches_com1 <span class="ot">&lt;-</span> com1_reserves <span class="sc">%&gt;%</span> <span class="fu">group_by</span>(id_hote) <span class="sc">%&gt;%</span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">revtot =</span> (<span class="fu">sum</span>(rev_tot)) <span class="sc">%&gt;%</span> <span class="fu">round</span>(<span class="at">digits =</span> <span class="dv">0</span>), <span class="at">id_hote =</span> id_hote, <span class="at">Freq =</span> Freq)</span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a>riches_com1 <span class="ot">&lt;-</span> riches_com1[<span class="fu">order</span>(<span class="sc">-</span>riches_com1<span class="sc">$</span>revtot),]</span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a>riches_com1 <span class="ot">&lt;-</span> riches_com1 <span class="sc">%&gt;%</span> <span class="fu">unique</span>()</span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a>riches_com1 <span class="ot">&lt;-</span> tibble<span class="sc">::</span><span class="fu">rownames_to_column</span>(riches_com1, <span class="st">&quot;rang&quot;</span>)</span>
<span id="cb19-7"><a href="#cb19-7" aria-hidden="true" tabindex="-1"></a>riches_com1 <span class="ot">&lt;-</span> riches_com1[<span class="sc">-</span><span class="dv">2</span>]</span>
<span id="cb19-8"><a href="#cb19-8" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(riches_com1) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;Rang&quot;</span>, <span class="fu">paste</span>(<span class="st">&quot;Revenus en &quot;</span>, periode, <span class="st">&quot;(</span><span class="sc">\\</span><span class="st">$)&quot;</span>), <span class="st">&quot;Nombre de logements&quot;</span>)</span>
<span id="cb19-9"><a href="#cb19-9" aria-hidden="true" tabindex="-1"></a>sum_com1 <span class="ot">&lt;-</span> (<span class="fu">max</span>(riches_com1[, <span class="dv">2</span>]) <span class="sc">*</span> <span class="dv">100</span> <span class="sc">/</span> <span class="fu">sum</span>(com1_reserves<span class="sc">$</span>rev_tot)) <span class="sc">%&gt;%</span> <span class="fu">round</span>(<span class="at">digits =</span> <span class="dv">2</span>)</span>
<span id="cb19-10"><a href="#cb19-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-11"><a href="#cb19-11" aria-hidden="true" tabindex="-1"></a>riches_com2 <span class="ot">&lt;-</span> com2_reserves <span class="sc">%&gt;%</span> <span class="fu">group_by</span>(id_hote) <span class="sc">%&gt;%</span></span>
<span id="cb19-12"><a href="#cb19-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">revtot =</span> (<span class="fu">sum</span>(rev_tot)) <span class="sc">%&gt;%</span> <span class="fu">round</span>(<span class="at">digits =</span> <span class="dv">0</span>), <span class="at">id_hote =</span> id_hote, <span class="at">Freq =</span> Freq)</span>
<span id="cb19-13"><a href="#cb19-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-14"><a href="#cb19-14" aria-hidden="true" tabindex="-1"></a>riches_com2 <span class="ot">&lt;-</span> riches_com2[<span class="fu">order</span>(<span class="sc">-</span>riches_com2<span class="sc">$</span>revtot),]</span>
<span id="cb19-15"><a href="#cb19-15" aria-hidden="true" tabindex="-1"></a>riches_com2 <span class="ot">&lt;-</span> riches_com2 <span class="sc">%&gt;%</span> <span class="fu">unique</span>()</span>
<span id="cb19-16"><a href="#cb19-16" aria-hidden="true" tabindex="-1"></a>riches_com2 <span class="ot">&lt;-</span> riches_com2[<span class="sc">-</span><span class="dv">1</span>]</span>
<span id="cb19-17"><a href="#cb19-17" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(riches_com2) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fu">paste</span>(<span class="st">&quot;Revenus en &quot;</span>, periode, <span class="st">&quot;(</span><span class="sc">\\</span><span class="st">$)&quot;</span>), <span class="st">&quot;Nombre de logements&quot;</span>)</span>
<span id="cb19-18"><a href="#cb19-18" aria-hidden="true" tabindex="-1"></a>sum_com2 <span class="ot">&lt;-</span> (<span class="fu">max</span>(riches_com2[, <span class="dv">2</span>]) <span class="sc">*</span> <span class="dv">100</span> <span class="sc">/</span> <span class="fu">sum</span>(com2_reserves<span class="sc">$</span>rev_tot)) <span class="sc">%&gt;%</span> <span class="fu">round</span>(<span class="at">digits =</span> <span class="dv">2</span>)</span>
<span id="cb19-19"><a href="#cb19-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-20"><a href="#cb19-20" aria-hidden="true" tabindex="-1"></a>tophotes_com1 <span class="ot">&lt;-</span> <span class="fu">head</span>(riches_com1, <span class="dv">5</span>)</span>
<span id="cb19-21"><a href="#cb19-21" aria-hidden="true" tabindex="-1"></a>tophotes_com2 <span class="ot">&lt;-</span> <span class="fu">head</span>(riches_com2, <span class="dv">5</span>)</span>
<span id="cb19-22"><a href="#cb19-22" aria-hidden="true" tabindex="-1"></a>tophotes_com1 <span class="ot">&lt;-</span> tophotes_com1 <span class="sc">%&gt;%</span> <span class="fu">rename</span>(<span class="st">&quot;nblog&quot;</span> <span class="ot">=</span> <span class="st">&quot;Nombre de logements&quot;</span>)</span>
<span id="cb19-23"><a href="#cb19-23" aria-hidden="true" tabindex="-1"></a>tophotes_com2 <span class="ot">&lt;-</span> tophotes_com2 <span class="sc">%&gt;%</span> <span class="fu">rename</span>(<span class="st">&quot;nblog&quot;</span> <span class="ot">=</span> <span class="st">&quot;Nombre de logements&quot;</span>)</span>
<span id="cb19-24"><a href="#cb19-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-25"><a href="#cb19-25" aria-hidden="true" tabindex="-1"></a>phrase_rev <span class="ot">&lt;-</span> <span class="st">&quot; &quot;</span></span>
<span id="cb19-26"><a href="#cb19-26" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (riches_com1[<span class="dv">1</span>,<span class="dv">2</span>] <span class="sc">&gt;</span> <span class="dv">100000</span> <span class="sc">&amp;</span> riches_com2[<span class="dv">1</span>,<span class="dv">1</span>] <span class="sc">&gt;</span> <span class="dv">100000</span>){</span>
<span id="cb19-27"><a href="#cb19-27" aria-hidden="true" tabindex="-1"></a>  phrase_rev <span class="ot">&lt;-</span> <span class="fu">paste0</span>(<span class="st">&quot;certains dépassent les 100.000$ de revenus dans les 2 communes. Les plus grands rentiers ont engrangé respectivement près de &quot;</span>, (riches_com1[<span class="dv">1</span>,<span class="dv">2</span>]) <span class="sc">%&gt;%</span> <span class="fu">round</span>(<span class="at">digits =</span> <span class="sc">-</span><span class="dv">3</span>), <span class="st">&quot; et &quot;</span>, (riches_com2[<span class="dv">1</span>,<span class="dv">1</span>]) <span class="sc">%&gt;%</span> <span class="fu">round</span>(<span class="at">digits =</span> <span class="sc">-</span><span class="dv">3</span>), <span class="st">&quot;$ à &quot;</span>, com1_nom, <span class="st">&quot; et &quot;</span>, com2_nom, <span class="st">&quot; en &quot;</span>, periode)</span>
<span id="cb19-28"><a href="#cb19-28" aria-hidden="true" tabindex="-1"></a>} <span class="cf">else</span> <span class="cf">if</span> (riches_com1[<span class="dv">1</span>,<span class="dv">2</span>] <span class="sc">&gt;</span> <span class="dv">100000</span> <span class="sc">&amp;</span> riches_com2[<span class="dv">1</span>,<span class="dv">1</span>] <span class="sc">&lt;</span> <span class="dv">100000</span>){</span>
<span id="cb19-29"><a href="#cb19-29" aria-hidden="true" tabindex="-1"></a>  phrase_rev <span class="ot">&lt;-</span> <span class="fu">paste0</span>(<span class="st">&quot;certains dépassent les 100.000$ de revenus dans la commune de &quot;</span>, com1_nom, <span class="st">&quot;. Les plus grands rentiers ont engrangé respectivement près de &quot;</span>, (riches_com1[<span class="dv">1</span>,<span class="dv">2</span>]) <span class="sc">%&gt;%</span> <span class="fu">round</span>(<span class="at">digits =</span> <span class="sc">-</span><span class="dv">3</span>), <span class="st">&quot; et &quot;</span>, (riches_com2[<span class="dv">1</span>,<span class="dv">1</span>]) <span class="sc">%&gt;%</span> <span class="fu">round</span>(<span class="at">digits =</span> <span class="sc">-</span><span class="dv">3</span>), <span class="st">&quot;$ à &quot;</span>, com1_nom, <span class="st">&quot; et &quot;</span>, com2_nom, <span class="st">&quot; en &quot;</span>, periode)</span>
<span id="cb19-30"><a href="#cb19-30" aria-hidden="true" tabindex="-1"></a>} <span class="cf">else</span> <span class="cf">if</span> (riches_com1[<span class="dv">1</span>,<span class="dv">2</span>] <span class="sc">&lt;</span> <span class="dv">100000</span> <span class="sc">&amp;</span> riches_com2[<span class="dv">1</span>,<span class="dv">1</span>] <span class="sc">&gt;</span> <span class="dv">100000</span>){</span>
<span id="cb19-31"><a href="#cb19-31" aria-hidden="true" tabindex="-1"></a>  phrase_rev <span class="ot">&lt;-</span> <span class="fu">paste0</span>(<span class="st">&quot;certains dépassent les 100.000$ de revenus dans la commune de &quot;</span>, com2_nom, <span class="st">&quot;. Les plus grands rentiers ont engrangé respectivement près de &quot;</span>, (riches_com1[<span class="dv">1</span>,<span class="dv">2</span>]) <span class="sc">%&gt;%</span> <span class="fu">round</span>(<span class="at">digits =</span> <span class="sc">-</span><span class="dv">3</span>), <span class="st">&quot; et &quot;</span>, (riches_com2[<span class="dv">1</span>,<span class="dv">1</span>]) <span class="sc">%&gt;%</span> <span class="fu">round</span>(<span class="at">digits =</span> <span class="sc">-</span><span class="dv">3</span>), <span class="st">&quot;$ à &quot;</span>, com1_nom, <span class="st">&quot; et &quot;</span>, com2_nom, <span class="st">&quot; en &quot;</span>, periode)</span>
<span id="cb19-32"><a href="#cb19-32" aria-hidden="true" tabindex="-1"></a>} <span class="cf">else</span> <span class="cf">if</span> (riches_com1[<span class="dv">1</span>,<span class="dv">2</span>] <span class="sc">&lt;</span> <span class="dv">100000</span> <span class="sc">&amp;</span> riches_com2[<span class="dv">1</span>,<span class="dv">1</span>] <span class="sc">&lt;</span> <span class="dv">100000</span>){</span>
<span id="cb19-33"><a href="#cb19-33" aria-hidden="true" tabindex="-1"></a>  phrase_rev <span class="ot">&lt;-</span> <span class="fu">paste0</span>(<span class="st">&quot;Les hôtes les plus fortunés ont engrangé respectivement &quot;</span>, riches_com1[<span class="dv">1</span>,<span class="dv">2</span>], <span class="st">&quot; et &quot;</span>, riches_com2[<span class="dv">1</span>,<span class="dv">1</span>], <span class="st">&quot;$ de revenus à &quot;</span>, com1_nom, <span class="st">&quot; et &quot;</span>, com2_nom, <span class="st">&quot; en &quot;</span>, periode)</span>
<span id="cb19-34"><a href="#cb19-34" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<br/><br/>
<div style="float:right;position: relative; top: -30px;">
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>riches <span class="ot">&lt;-</span> <span class="fu">cbind</span>(<span class="fu">head</span>(riches_com1, <span class="dv">10</span>), <span class="fu">head</span>(riches_com2, <span class="dv">10</span>))</span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">kable</span>(riches, <span class="at">caption =</span> <span class="fu">paste</span>(<span class="st">&quot;Top hôtes&quot;</span>, periode), <span class="at">align =</span> <span class="st">&#39;r&#39;</span>, <span class="at">table.attr =</span> <span class="st">&quot;style=&#39;width:20%;&#39;&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_header_above</span>(<span class="at">header =</span> <span class="fu">c</span>(<span class="st">&quot; &quot;</span> <span class="ot">=</span> <span class="dv">1</span>, <span class="fu">setNames</span>(<span class="dv">2</span>, com1_nom), <span class="fu">setNames</span>(<span class="dv">2</span>, com2_nom))) <span class="sc">%&gt;%</span></span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_paper</span>(<span class="at">full_width =</span> F) <span class="sc">%&gt;%</span></span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">column_spec</span>(<span class="dv">1</span>, <span class="at">bold =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<table style="width:20%; font-family: &quot;Arial Narrow&quot;, arial, helvetica, sans-serif; width: auto !important; margin-left: auto; margin-right: auto;" class=" lightable-paper">
<caption>
Top hôtes 2019
</caption>
<thead>
<tr>
<th style="empty-cells: hide;border-bottom:hidden;" colspan="1">
</th>
<th style="border-bottom:hidden;padding-bottom:0; padding-left:3px;padding-right:3px;text-align: center; " colspan="2">
<div style="border-bottom: 1px solid #ddd; padding-bottom: 5px; ">
Pantin
</div>
</th>
<th style="border-bottom:hidden;padding-bottom:0; padding-left:3px;padding-right:3px;text-align: center; " colspan="2">
<div style="border-bottom: 1px solid #ddd; padding-bottom: 5px; ">
Issy
</div>
</th>
</tr>
<tr>
<th style="text-align:right;">
Rang
</th>
<th style="text-align:right;">
Revenus en 2019 ($)
</th>
<th style="text-align:right;">
Nombre de logements
</th>
<th style="text-align:right;">
Revenus en 2019 ($)
</th>
<th style="text-align:right;">
Nombre de logements
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:right;font-weight: bold;">
1
</td>
<td style="text-align:right;">
176584
</td>
<td style="text-align:right;">
11
</td>
<td style="text-align:right;">
284987
</td>
<td style="text-align:right;">
5
</td>
</tr>
<tr>
<td style="text-align:right;font-weight: bold;">
2
</td>
<td style="text-align:right;">
67829
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
95129
</td>
<td style="text-align:right;">
3
</td>
</tr>
<tr>
<td style="text-align:right;font-weight: bold;">
3
</td>
<td style="text-align:right;">
53118
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
88103
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:right;font-weight: bold;">
4
</td>
<td style="text-align:right;">
37056
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
74772
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:right;font-weight: bold;">
5
</td>
<td style="text-align:right;">
35407
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
61765
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:right;font-weight: bold;">
6
</td>
<td style="text-align:right;">
32003
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
61402
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:right;font-weight: bold;">
7
</td>
<td style="text-align:right;">
29924
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
53729
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:right;font-weight: bold;">
8
</td>
<td style="text-align:right;">
29413
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
50812
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:right;font-weight: bold;">
9
</td>
<td style="text-align:right;">
29186
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
49462
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:right;font-weight: bold;">
10
</td>
<td style="text-align:right;">
29116
</td>
<td style="text-align:right;">
12
</td>
<td style="text-align:right;">
43389
</td>
<td style="text-align:right;">
1
</td>
</tr>
</tbody>
</table>
</div>
<p>Si la majeure partie des nuitées et des revenus sont concentrés parmi un faible nombre de logements, c’est aussi le cas pour les hôtes : certains dépassent les 100.000$ de revenus dans les 2 communes. Les plus grands rentiers ont engrangé respectivement près de 177000 et 285000$ à Pantin et Issy en 2019. Ces revenus très élevés sont dûes en partie à la détention de plusieurs logements. Dans la commune de Pantin, on trouve des multiloueurs propriétaires de 12 logements. À Issy, des propriétaires détiennent jusqu’à 5 logements. Parmi les 5 hôtes les plus fortunés, on retrouve 2 monoloueurs à Pantin, et 3 à Issy.</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>com1_mensuel_reserves <span class="ot">&lt;-</span> com1_mensuel_ref <span class="sc">%&gt;%</span> <span class="fu">filter</span>(nb_nuitees <span class="sc">&gt;</span> <span class="dv">0</span>)</span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>nblogactifs_com1 <span class="ot">&lt;-</span> com1_mensuel_reserves <span class="sc">%&gt;%</span> <span class="fu">group_by</span>(mois) <span class="sc">%&gt;%</span></span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">count =</span> <span class="fu">n</span>(), <span class="at">ville =</span> ville) <span class="sc">%&gt;%</span></span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unique</span>()</span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a>com2_mensuel_reserves <span class="ot">&lt;-</span> com2_mensuel_ref <span class="sc">%&gt;%</span> <span class="fu">filter</span>(nb_nuitees <span class="sc">&gt;</span> <span class="dv">0</span>)</span>
<span id="cb21-7"><a href="#cb21-7" aria-hidden="true" tabindex="-1"></a>nblogactifs_com2 <span class="ot">&lt;-</span> com2_mensuel_reserves <span class="sc">%&gt;%</span> <span class="fu">group_by</span>(mois) <span class="sc">%&gt;%</span></span>
<span id="cb21-8"><a href="#cb21-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">count =</span> <span class="fu">n</span>(), <span class="at">ville =</span> ville) <span class="sc">%&gt;%</span></span>
<span id="cb21-9"><a href="#cb21-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unique</span>()</span>
<span id="cb21-10"><a href="#cb21-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-11"><a href="#cb21-11" aria-hidden="true" tabindex="-1"></a>nblogactifs <span class="ot">&lt;-</span> <span class="fu">rbind</span>(nblogactifs_com1, nblogactifs_com2)</span>
<span id="cb21-12"><a href="#cb21-12" aria-hidden="true" tabindex="-1"></a>nblogactifs<span class="sc">$</span>ville <span class="ot">&lt;-</span> <span class="fu">as.factor</span>(nblogactifs<span class="sc">$</span>ville)</span>
<span id="cb21-13"><a href="#cb21-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-14"><a href="#cb21-14" aria-hidden="true" tabindex="-1"></a>nblogactifs_com1 <span class="ot">&lt;-</span> nblogactifs_com1 <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">year =</span> lubridate<span class="sc">::</span><span class="fu">year</span>(mois),</span>
<span id="cb21-15"><a href="#cb21-15" aria-hidden="true" tabindex="-1"></a>                              <span class="at">month =</span> <span class="fu">format</span>(mois, <span class="at">format =</span> <span class="st">&quot;%B&quot;</span>))</span>
<span id="cb21-16"><a href="#cb21-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-17"><a href="#cb21-17" aria-hidden="true" tabindex="-1"></a>nblogactifs_com2 <span class="ot">&lt;-</span> nblogactifs_com2 <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">year =</span> lubridate<span class="sc">::</span><span class="fu">year</span>(mois),</span>
<span id="cb21-18"><a href="#cb21-18" aria-hidden="true" tabindex="-1"></a>                              <span class="at">month =</span> <span class="fu">format</span>(mois, <span class="at">format =</span> <span class="st">&quot;%B&quot;</span>))</span>
<span id="cb21-19"><a href="#cb21-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-20"><a href="#cb21-20" aria-hidden="true" tabindex="-1"></a>pic_com1 <span class="ot">&lt;-</span> nblogactifs_com1 <span class="sc">%&gt;%</span> <span class="fu">filter</span>(count <span class="sc">==</span> <span class="fu">max</span>(nblogactifs_com1<span class="sc">$</span>count))</span>
<span id="cb21-21"><a href="#cb21-21" aria-hidden="true" tabindex="-1"></a>pic_com2 <span class="ot">&lt;-</span> nblogactifs_com2 <span class="sc">%&gt;%</span> <span class="fu">filter</span>(count <span class="sc">==</span> <span class="fu">max</span>(nblogactifs_com2<span class="sc">$</span>count))</span>
<span id="cb21-22"><a href="#cb21-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-23"><a href="#cb21-23" aria-hidden="true" tabindex="-1"></a>datepic <span class="ot">&lt;-</span> <span class="st">&quot;&quot;</span></span>
<span id="cb21-24"><a href="#cb21-24" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span>(pic_com1[<span class="dv">1</span>,<span class="dv">4</span>] <span class="sc">&lt;</span> pic_com2[<span class="dv">1</span>,<span class="dv">4</span>]){</span>
<span id="cb21-25"><a href="#cb21-25" aria-hidden="true" tabindex="-1"></a>  datepic <span class="ot">&lt;-</span> <span class="st">&quot;plus tard&quot;</span></span>
<span id="cb21-26"><a href="#cb21-26" aria-hidden="true" tabindex="-1"></a>} <span class="cf">else</span> <span class="cf">if</span> (pic_com1[<span class="dv">1</span>,<span class="dv">4</span>] <span class="sc">&gt;</span> pic_com2[<span class="dv">1</span>,<span class="dv">4</span>]){</span>
<span id="cb21-27"><a href="#cb21-27" aria-hidden="true" tabindex="-1"></a>  datepic <span class="ot">&lt;-</span> <span class="st">&quot;plus tôt&quot;</span></span>
<span id="cb21-28"><a href="#cb21-28" aria-hidden="true" tabindex="-1"></a>} <span class="cf">else</span> <span class="cf">if</span> (pic_com1[<span class="dv">1</span>,<span class="dv">4</span>] <span class="sc">==</span> pic_com2[<span class="dv">1</span>,<span class="dv">4</span>]){</span>
<span id="cb21-29"><a href="#cb21-29" aria-hidden="true" tabindex="-1"></a>  datepic <span class="ot">&lt;-</span> <span class="st">&quot;la même année&quot;</span></span>
<span id="cb21-30"><a href="#cb21-30" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<p>Lorsque l’on s’intéresse à l’évolution de l’activité du marché depuis que airdna analyse les données (2016 à Pantin et 2015 à Issy), on observe que le pic du nombre de nuitées réservées est atteint à Pantin en juillet 2019 avec 350 logements réservés. À Issy, le pic apparaît plus tôt en juillet 2018 avec 294 logements réservés au cours de ce mois.</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> nblogactifs, <span class="fu">aes</span>(<span class="at">x =</span> mois, <span class="at">y =</span> count, <span class="at">color =</span> ville)) <span class="sc">+</span></span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">expand_limits</span>(<span class="at">y =</span> <span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">550</span>)) <span class="sc">+</span></span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>() <span class="sc">+</span></span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;Evolution du nombre de logements réservés&quot;</span>,</span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">&quot;Mois&quot;</span>,</span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">&quot;Nombre de logements réservés&quot;</span>,</span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a>       <span class="at">caption =</span> <span class="st">&quot;source : airdna.co, novembre 2020&quot;</span>)<span class="sc">+</span></span>
<span id="cb22-8"><a href="#cb22-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>()</span></code></pre></div>
<p><img src="compar_files/figure-html/unnamed-chunk-22-1.png" width="672" /></p>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>freqcom1 <span class="ot">&lt;-</span> com1_mensuel_reserves <span class="sc">%&gt;%</span></span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(mois) <span class="sc">%&gt;%</span></span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">resa =</span> <span class="fu">sum</span>(nb_nuitees),</span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a>            <span class="at">dispo =</span> <span class="fu">sum</span>(nb_dispo),</span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a>            <span class="at">ville =</span> ville) <span class="sc">%&gt;%</span></span>
<span id="cb23-6"><a href="#cb23-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">tauxfreq =</span> resa <span class="sc">/</span> (resa <span class="sc">+</span> dispo)<span class="sc">*</span><span class="dv">100</span>) <span class="sc">%&gt;%</span></span>
<span id="cb23-7"><a href="#cb23-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unique</span>() <span class="sc">%&gt;%</span></span>
<span id="cb23-8"><a href="#cb23-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(mois, ville, tauxfreq)</span>
<span id="cb23-9"><a href="#cb23-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-10"><a href="#cb23-10" aria-hidden="true" tabindex="-1"></a>freqcom2 <span class="ot">&lt;-</span> com2_mensuel_reserves <span class="sc">%&gt;%</span></span>
<span id="cb23-11"><a href="#cb23-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(mois) <span class="sc">%&gt;%</span></span>
<span id="cb23-12"><a href="#cb23-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">resa =</span> <span class="fu">sum</span>(nb_nuitees),</span>
<span id="cb23-13"><a href="#cb23-13" aria-hidden="true" tabindex="-1"></a>            <span class="at">dispo =</span> <span class="fu">sum</span>(nb_dispo),</span>
<span id="cb23-14"><a href="#cb23-14" aria-hidden="true" tabindex="-1"></a>            <span class="at">ville =</span> ville) <span class="sc">%&gt;%</span></span>
<span id="cb23-15"><a href="#cb23-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">tauxfreq =</span> resa <span class="sc">/</span> (resa <span class="sc">+</span> dispo)<span class="sc">*</span><span class="dv">100</span>) <span class="sc">%&gt;%</span></span>
<span id="cb23-16"><a href="#cb23-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unique</span>() <span class="sc">%&gt;%</span></span>
<span id="cb23-17"><a href="#cb23-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(mois, ville, tauxfreq)</span>
<span id="cb23-18"><a href="#cb23-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-19"><a href="#cb23-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-20"><a href="#cb23-20" aria-hidden="true" tabindex="-1"></a>plotfreq <span class="ot">&lt;-</span> <span class="fu">rbind</span>(freqcom1, freqcom2)</span>
<span id="cb23-21"><a href="#cb23-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-22"><a href="#cb23-22" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> plotfreq, <span class="fu">aes</span>(<span class="at">x =</span> mois, <span class="at">y =</span> tauxfreq, <span class="at">color =</span> ville)) <span class="sc">+</span></span>
<span id="cb23-23"><a href="#cb23-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>() <span class="sc">+</span></span>
<span id="cb23-24"><a href="#cb23-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;Evolution du taux de fréquentation&quot;</span>,</span>
<span id="cb23-25"><a href="#cb23-25" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">&quot;Mois&quot;</span>,</span>
<span id="cb23-26"><a href="#cb23-26" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">&quot;Taux de fréquentation&quot;</span>,</span>
<span id="cb23-27"><a href="#cb23-27" aria-hidden="true" tabindex="-1"></a>       <span class="at">caption =</span> <span class="st">&quot;source : airdna.co, novembre 2020&quot;</span>) <span class="sc">+</span></span>
<span id="cb23-28"><a href="#cb23-28" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>()</span></code></pre></div>
<p><img src="compar_files/figure-html/unnamed-chunk-23-1.png" width="672" /></p>
<div class="sourceCode" id="cb24"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="co"># comparaison année de référence vs une autre année (en l&#39;occurence 2020)</span></span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a><span class="co"># comme l&#39;année 2020 n&#39;est pas complète on prend les indicateurs au mois</span></span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a>com1_mensuel_reserves <span class="ot">&lt;-</span> com1_mensuel_ref <span class="sc">%&gt;%</span> <span class="fu">filter</span>(nb_nuitees <span class="sc">&gt;</span> <span class="dv">0</span> <span class="sc">&amp;</span> year <span class="sc">==</span> periode)</span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a>com2_mensuel_reserves <span class="ot">&lt;-</span> com2_mensuel_ref <span class="sc">%&gt;%</span> <span class="fu">filter</span>(nb_nuitees <span class="sc">&gt;</span> <span class="dv">0</span> <span class="sc">&amp;</span> year <span class="sc">==</span> periode)</span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a>com1_mensuel_reserves_n2 <span class="ot">&lt;-</span> com1_mensuel_ref <span class="sc">%&gt;%</span> <span class="fu">filter</span>(nb_nuitees <span class="sc">&gt;</span> <span class="dv">0</span> <span class="sc">&amp;</span> year <span class="sc">==</span> periode2)</span>
<span id="cb24-6"><a href="#cb24-6" aria-hidden="true" tabindex="-1"></a>com2_mensuel_reserves_n2 <span class="ot">&lt;-</span> com2_mensuel_ref <span class="sc">%&gt;%</span> <span class="fu">filter</span>(nb_nuitees <span class="sc">&gt;</span> <span class="dv">0</span> <span class="sc">&amp;</span> year <span class="sc">==</span> periode2)</span>
<span id="cb24-7"><a href="#cb24-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-8"><a href="#cb24-8" aria-hidden="true" tabindex="-1"></a>evol <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="fu">matrix</span>(<span class="at">ncol =</span> <span class="dv">7</span>, <span class="at">nrow =</span> <span class="dv">4</span>))</span>
<span id="cb24-9"><a href="#cb24-9" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(evol) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;Indicateurs&quot;</span>, com1_nom, com2_nom, com1_nom, com2_nom, com1_nom, com2_nom)</span>
<span id="cb24-10"><a href="#cb24-10" aria-hidden="true" tabindex="-1"></a>evol<span class="sc">$</span>Indicateurs <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;Nombre de nuitées disponibles par mois&quot;</span>, <span class="st">&quot;Nombre de nuitées réservées par mois&quot;</span>, <span class="st">&quot;Taux de fréquentation mensuel (%)&quot;</span>, <span class="st">&quot;Revenu mensuel médian ($)&quot;</span>)</span>
<span id="cb24-11"><a href="#cb24-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-12"><a href="#cb24-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-13"><a href="#cb24-13" aria-hidden="true" tabindex="-1"></a>evol[<span class="dv">1</span>,<span class="dv">2</span>] <span class="ot">&lt;-</span> <span class="fu">mean</span>(com1_mensuel_reserves<span class="sc">$</span>nb_nuitees) <span class="sc">+</span> <span class="fu">mean</span>(com1_mensuel_reserves<span class="sc">$</span>nb_dispo)</span>
<span id="cb24-14"><a href="#cb24-14" aria-hidden="true" tabindex="-1"></a>evol[<span class="dv">1</span>,<span class="dv">3</span>] <span class="ot">&lt;-</span> <span class="fu">mean</span>(com2_mensuel_reserves<span class="sc">$</span>nb_nuitees) <span class="sc">+</span> <span class="fu">mean</span>(com2_mensuel_reserves<span class="sc">$</span>nb_dispo)</span>
<span id="cb24-15"><a href="#cb24-15" aria-hidden="true" tabindex="-1"></a>evol[<span class="dv">1</span>,<span class="dv">4</span>] <span class="ot">&lt;-</span> <span class="fu">mean</span>(com1_mensuel_reserves_n2<span class="sc">$</span>nb_nuitees) <span class="sc">+</span> <span class="fu">mean</span>(com1_mensuel_reserves_n2<span class="sc">$</span>nb_dispo)</span>
<span id="cb24-16"><a href="#cb24-16" aria-hidden="true" tabindex="-1"></a>evol[<span class="dv">1</span>,<span class="dv">5</span>] <span class="ot">&lt;-</span> <span class="fu">mean</span>(com2_mensuel_reserves_n2<span class="sc">$</span>nb_nuitees) <span class="sc">+</span> <span class="fu">mean</span>(com2_mensuel_reserves_n2<span class="sc">$</span>nb_dispo)</span>
<span id="cb24-17"><a href="#cb24-17" aria-hidden="true" tabindex="-1"></a>evol[<span class="dv">1</span>,<span class="dv">6</span>] <span class="ot">&lt;-</span> <span class="fu">paste</span>(((evol[<span class="dv">1</span>,<span class="dv">4</span>] <span class="sc">-</span> evol[<span class="dv">1</span>,<span class="dv">2</span>]) <span class="sc">/</span> evol[<span class="dv">1</span>,<span class="dv">2</span>] <span class="sc">*</span> <span class="dv">100</span>) <span class="sc">%&gt;%</span> <span class="fu">round</span>(<span class="at">digits =</span> <span class="dv">1</span>), <span class="st">&quot;%&quot;</span>)</span>
<span id="cb24-18"><a href="#cb24-18" aria-hidden="true" tabindex="-1"></a>evol[<span class="dv">1</span>,<span class="dv">7</span>] <span class="ot">&lt;-</span> <span class="fu">paste</span>(((evol[<span class="dv">1</span>,<span class="dv">5</span>] <span class="sc">-</span> evol[<span class="dv">1</span>,<span class="dv">3</span>]) <span class="sc">/</span> evol[<span class="dv">1</span>,<span class="dv">3</span>] <span class="sc">*</span> <span class="dv">100</span>) <span class="sc">%&gt;%</span> <span class="fu">round</span>(<span class="at">digits =</span> <span class="dv">1</span>), <span class="st">&quot;%&quot;</span>)</span>
<span id="cb24-19"><a href="#cb24-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-20"><a href="#cb24-20" aria-hidden="true" tabindex="-1"></a>evol[<span class="dv">2</span>,<span class="dv">2</span>] <span class="ot">&lt;-</span> <span class="fu">mean</span>(com1_mensuel_reserves<span class="sc">$</span>nb_nuitees)</span>
<span id="cb24-21"><a href="#cb24-21" aria-hidden="true" tabindex="-1"></a>evol[<span class="dv">2</span>,<span class="dv">3</span>] <span class="ot">&lt;-</span> <span class="fu">mean</span>(com2_mensuel_reserves<span class="sc">$</span>nb_nuitees)</span>
<span id="cb24-22"><a href="#cb24-22" aria-hidden="true" tabindex="-1"></a>evol[<span class="dv">2</span>,<span class="dv">4</span>] <span class="ot">&lt;-</span> <span class="fu">mean</span>(com1_mensuel_reserves_n2<span class="sc">$</span>nb_nuitees)</span>
<span id="cb24-23"><a href="#cb24-23" aria-hidden="true" tabindex="-1"></a>evol[<span class="dv">2</span>,<span class="dv">5</span>] <span class="ot">&lt;-</span> <span class="fu">mean</span>(com2_mensuel_reserves_n2<span class="sc">$</span>nb_nuitees)</span>
<span id="cb24-24"><a href="#cb24-24" aria-hidden="true" tabindex="-1"></a>evol[<span class="dv">2</span>,<span class="dv">6</span>] <span class="ot">&lt;-</span> <span class="fu">paste</span>(((evol[<span class="dv">2</span>,<span class="dv">4</span>] <span class="sc">-</span> evol[<span class="dv">2</span>,<span class="dv">2</span>]) <span class="sc">/</span> evol[<span class="dv">2</span>,<span class="dv">2</span>] <span class="sc">*</span> <span class="dv">100</span>) <span class="sc">%&gt;%</span> <span class="fu">round</span>(<span class="at">digits =</span> <span class="dv">1</span>), <span class="st">&quot;%&quot;</span>)</span>
<span id="cb24-25"><a href="#cb24-25" aria-hidden="true" tabindex="-1"></a>evol[<span class="dv">2</span>,<span class="dv">7</span>] <span class="ot">&lt;-</span> <span class="fu">paste</span>(((evol[<span class="dv">2</span>,<span class="dv">5</span>] <span class="sc">-</span> evol[<span class="dv">2</span>,<span class="dv">3</span>]) <span class="sc">/</span> evol[<span class="dv">2</span>,<span class="dv">3</span>] <span class="sc">*</span> <span class="dv">100</span>) <span class="sc">%&gt;%</span> <span class="fu">round</span>(<span class="at">digits =</span> <span class="dv">1</span>), <span class="st">&quot;%&quot;</span>)</span>
<span id="cb24-26"><a href="#cb24-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-27"><a href="#cb24-27" aria-hidden="true" tabindex="-1"></a>evol[<span class="dv">3</span>,<span class="dv">2</span>] <span class="ot">&lt;-</span> <span class="fu">mean</span>(com1_mensuel_reserves<span class="sc">$</span>nb_nuitees) <span class="sc">*</span><span class="dv">100</span> <span class="sc">/</span> <span class="fu">mean</span>(com1_mensuel_reserves<span class="sc">$</span>nb_nuitees <span class="sc">+</span> com1_mensuel_reserves<span class="sc">$</span>nb_dispo)</span>
<span id="cb24-28"><a href="#cb24-28" aria-hidden="true" tabindex="-1"></a>evol[<span class="dv">3</span>,<span class="dv">3</span>] <span class="ot">&lt;-</span> <span class="fu">mean</span>(com2_mensuel_reserves<span class="sc">$</span>nb_nuitees) <span class="sc">*</span><span class="dv">100</span> <span class="sc">/</span> <span class="fu">mean</span>(com2_mensuel_reserves<span class="sc">$</span>nb_nuitees <span class="sc">+</span> com2_mensuel_reserves<span class="sc">$</span>nb_dispo)</span>
<span id="cb24-29"><a href="#cb24-29" aria-hidden="true" tabindex="-1"></a>evol[<span class="dv">3</span>,<span class="dv">4</span>] <span class="ot">&lt;-</span> <span class="fu">mean</span>(com1_mensuel_reserves_n2<span class="sc">$</span>nb_nuitees) <span class="sc">*</span><span class="dv">100</span> <span class="sc">/</span> <span class="fu">mean</span>(com1_mensuel_reserves_n2<span class="sc">$</span>nb_nuitees <span class="sc">+</span> com1_mensuel_reserves_n2<span class="sc">$</span>nb_dispo)</span>
<span id="cb24-30"><a href="#cb24-30" aria-hidden="true" tabindex="-1"></a>evol[<span class="dv">3</span>,<span class="dv">5</span>] <span class="ot">&lt;-</span> <span class="fu">mean</span>(com2_mensuel_reserves_n2<span class="sc">$</span>nb_nuitees) <span class="sc">*</span><span class="dv">100</span> <span class="sc">/</span> <span class="fu">mean</span>(com2_mensuel_reserves_n2<span class="sc">$</span>nb_nuitees <span class="sc">+</span> com2_mensuel_reserves_n2<span class="sc">$</span>nb_dispo)</span>
<span id="cb24-31"><a href="#cb24-31" aria-hidden="true" tabindex="-1"></a>evol[<span class="dv">3</span>,<span class="dv">6</span>] <span class="ot">&lt;-</span> <span class="fu">paste</span>(((evol[<span class="dv">3</span>,<span class="dv">4</span>] <span class="sc">-</span> evol[<span class="dv">3</span>,<span class="dv">2</span>]) <span class="sc">/</span> evol[<span class="dv">3</span>,<span class="dv">2</span>] <span class="sc">*</span> <span class="dv">100</span>) <span class="sc">%&gt;%</span> <span class="fu">round</span>(<span class="at">digits =</span> <span class="dv">1</span>), <span class="st">&quot;%&quot;</span>)</span>
<span id="cb24-32"><a href="#cb24-32" aria-hidden="true" tabindex="-1"></a>evol[<span class="dv">3</span>,<span class="dv">7</span>] <span class="ot">&lt;-</span> <span class="fu">paste</span>(((evol[<span class="dv">3</span>,<span class="dv">5</span>] <span class="sc">-</span> evol[<span class="dv">3</span>,<span class="dv">3</span>]) <span class="sc">/</span> evol[<span class="dv">3</span>,<span class="dv">3</span>] <span class="sc">*</span> <span class="dv">100</span>) <span class="sc">%&gt;%</span> <span class="fu">round</span>(<span class="at">digits =</span> <span class="dv">1</span>), <span class="st">&quot;%&quot;</span>)</span>
<span id="cb24-33"><a href="#cb24-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-34"><a href="#cb24-34" aria-hidden="true" tabindex="-1"></a>evol[<span class="dv">4</span>,<span class="dv">2</span>] <span class="ot">&lt;-</span> <span class="fu">median</span>(com1_mensuel_reserves<span class="sc">$</span>revenus_mois)</span>
<span id="cb24-35"><a href="#cb24-35" aria-hidden="true" tabindex="-1"></a>evol[<span class="dv">4</span>,<span class="dv">3</span>] <span class="ot">&lt;-</span> <span class="fu">median</span>(com2_mensuel_reserves<span class="sc">$</span>revenus_mois)</span>
<span id="cb24-36"><a href="#cb24-36" aria-hidden="true" tabindex="-1"></a>evol[<span class="dv">4</span>,<span class="dv">4</span>] <span class="ot">&lt;-</span> <span class="fu">median</span>(com1_mensuel_reserves_n2<span class="sc">$</span>revenus_mois)</span>
<span id="cb24-37"><a href="#cb24-37" aria-hidden="true" tabindex="-1"></a>evol[<span class="dv">4</span>,<span class="dv">5</span>] <span class="ot">&lt;-</span> <span class="fu">median</span>(com2_mensuel_reserves_n2<span class="sc">$</span>revenus_mois)</span>
<span id="cb24-38"><a href="#cb24-38" aria-hidden="true" tabindex="-1"></a>evol[<span class="dv">4</span>,<span class="dv">6</span>] <span class="ot">&lt;-</span> <span class="fu">paste</span>(((evol[<span class="dv">4</span>,<span class="dv">4</span>] <span class="sc">-</span> evol[<span class="dv">4</span>,<span class="dv">2</span>]) <span class="sc">/</span> evol[<span class="dv">4</span>,<span class="dv">2</span>] <span class="sc">*</span> <span class="dv">100</span>) <span class="sc">%&gt;%</span> <span class="fu">round</span>(<span class="at">digits =</span> <span class="dv">1</span>), <span class="st">&quot;%&quot;</span>)</span>
<span id="cb24-39"><a href="#cb24-39" aria-hidden="true" tabindex="-1"></a>evol[<span class="dv">4</span>,<span class="dv">7</span>] <span class="ot">&lt;-</span> <span class="fu">paste</span>(((evol[<span class="dv">4</span>,<span class="dv">5</span>] <span class="sc">-</span> evol[<span class="dv">4</span>,<span class="dv">3</span>]) <span class="sc">/</span> evol[<span class="dv">4</span>,<span class="dv">3</span>] <span class="sc">*</span> <span class="dv">100</span>) <span class="sc">%&gt;%</span> <span class="fu">round</span>(<span class="at">digits =</span> <span class="dv">1</span>), <span class="st">&quot;%&quot;</span>)</span>
<span id="cb24-40"><a href="#cb24-40" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-41"><a href="#cb24-41" aria-hidden="true" tabindex="-1"></a>phraseevol <span class="ot">&lt;-</span> <span class="st">&quot;&quot;</span></span>
<span id="cb24-42"><a href="#cb24-42" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (evol[<span class="dv">1</span>,<span class="dv">6</span>] <span class="sc">&gt;</span> <span class="dv">0</span> <span class="sc">&amp;</span> evol[<span class="dv">1</span>,<span class="dv">7</span>] <span class="sc">&lt;</span> <span class="dv">0</span>){</span>
<span id="cb24-43"><a href="#cb24-43" aria-hidden="true" tabindex="-1"></a>  phraseevol <span class="ot">&lt;-</span> <span class="fu">paste0</span>(<span class="st">&quot;Les hôtes cependant n&#39;ont pas pour autant diminué la disponibilité de leurs logements à &quot;</span>, com1_nom, <span class="st">&quot; : on dénombre &quot;</span>, evol[<span class="dv">1</span>,<span class="dv">6</span>], <span class="st">&quot; de nuitées disponibles en plus en &quot;</span>, periode2, <span class="st">&quot; par rapport à &quot;</span>, periode)</span>
<span id="cb24-44"><a href="#cb24-44" aria-hidden="true" tabindex="-1"></a>} <span class="cf">else</span> <span class="cf">if</span> (evol[<span class="dv">1</span>,<span class="dv">6</span>] <span class="sc">&lt;</span> <span class="dv">0</span> <span class="sc">&amp;</span> evol[<span class="dv">1</span>,<span class="dv">7</span>] <span class="sc">&gt;</span> <span class="dv">0</span>){</span>
<span id="cb24-45"><a href="#cb24-45" aria-hidden="true" tabindex="-1"></a>  phraseevol <span class="ot">&lt;-</span> <span class="fu">paste0</span>(<span class="st">&quot;Les hôtes cependant n&#39;ont pas pour autant diminué la disponibilité de leurs logements à &quot;</span>, com2_nom, <span class="st">&quot; : on dénombre &quot;</span>, evol[<span class="dv">1</span>,<span class="dv">6</span>], <span class="st">&quot; de nuitées disponibles en plus en &quot;</span>, periode2, <span class="st">&quot; par rapport à &quot;</span>, periode)</span>
<span id="cb24-46"><a href="#cb24-46" aria-hidden="true" tabindex="-1"></a>} <span class="cf">else</span> <span class="cf">if</span> (evol[<span class="dv">1</span>,<span class="dv">6</span>] <span class="sc">&gt;</span> <span class="dv">0</span> <span class="sc">&amp;</span> evol[<span class="dv">1</span>,<span class="dv">7</span>] <span class="sc">&gt;</span> <span class="dv">0</span>){</span>
<span id="cb24-47"><a href="#cb24-47" aria-hidden="true" tabindex="-1"></a>  phraseevol <span class="ot">&lt;-</span> <span class="fu">paste0</span>(<span class="st">&quot;Les hôtes cependant n&#39;ont pas pour autant diminué la disponibilité de leurs logements dans nos deux communes : on dénombre &quot;</span>, evol[<span class="dv">1</span>,<span class="dv">6</span>], <span class="st">&quot; de nuitées disponibles en plus en &quot;</span>, periode2, <span class="st">&quot; par rapport à &quot;</span>, periode, <span class="st">&quot; à &quot;</span>, com1_nom, <span class="st">&quot;, et &quot;</span>, evol[<span class="dv">1</span>,<span class="dv">7</span>], <span class="st">&quot; à &quot;</span>, com2_nom)</span>
<span id="cb24-48"><a href="#cb24-48" aria-hidden="true" tabindex="-1"></a>} </span></code></pre></div>
<p>Enfin, lorsque l’on se concentre sur la période Covid, on observe sans surprise une baisse drastique de l’activité d’Airbnb dans la commune. Cette baisse s’observe notamment au niveau du comportement des visiteurs : on enregistre des baisses de l’ordre de -28.3 % et -30.5 % du nombre de nuitées réservées dans les deux communes. Les hôtes cependant n’ont pas pour autant diminué la disponibilité de leurs logements dans nos deux communes : on dénombre 0 % de nuitées disponibles en plus en 2020 par rapport à 2019 à Pantin, et 4.5 % à Issy. Le revenu mensuel médian quant à lui a chuté de respectivement -34.9 % et -41.3 %.</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">kable</span>(evol, <span class="at">digits =</span> <span class="dv">1</span>) <span class="sc">%&gt;%</span></span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_header_above</span>(<span class="at">header =</span> <span class="fu">c</span>(<span class="st">&quot; &quot;</span> <span class="ot">=</span> <span class="dv">1</span>, <span class="fu">setNames</span>(<span class="dv">2</span>, periode), <span class="fu">setNames</span>(<span class="dv">2</span>, periode2),</span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a>                              <span class="fu">setNames</span>(<span class="dv">2</span>, <span class="st">&quot;Evolution&quot;</span>))) <span class="sc">%&gt;%</span></span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">column_spec</span>(<span class="dv">1</span>, <span class="at">bold =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<table>
<thead>
<tr>
<th style="empty-cells: hide;border-bottom:hidden;" colspan="1">
</th>
<th style="border-bottom:hidden;padding-bottom:0; padding-left:3px;padding-right:3px;text-align: center; " colspan="2">
<div style="border-bottom: 1px solid #ddd; padding-bottom: 5px; ">
2019
</div>
</th>
<th style="border-bottom:hidden;padding-bottom:0; padding-left:3px;padding-right:3px;text-align: center; " colspan="2">
<div style="border-bottom: 1px solid #ddd; padding-bottom: 5px; ">
2020
</div>
</th>
<th style="border-bottom:hidden;padding-bottom:0; padding-left:3px;padding-right:3px;text-align: center; " colspan="2">
<div style="border-bottom: 1px solid #ddd; padding-bottom: 5px; ">
Evolution
</div>
</th>
</tr>
<tr>
<th style="text-align:left;">
Indicateurs
</th>
<th style="text-align:right;">
Pantin
</th>
<th style="text-align:right;">
Issy
</th>
<th style="text-align:right;">
Pantin
</th>
<th style="text-align:right;">
Issy
</th>
<th style="text-align:left;">
Pantin
</th>
<th style="text-align:left;">
Issy
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;font-weight: bold;">
Nombre de nuitées disponibles par mois
</td>
<td style="text-align:right;">
23.5
</td>
<td style="text-align:right;">
23.3
</td>
<td style="text-align:right;">
23.5
</td>
<td style="text-align:right;">
24.3
</td>
<td style="text-align:left;">
0 %
</td>
<td style="text-align:left;">
4.5 %
</td>
</tr>
<tr>
<td style="text-align:left;font-weight: bold;">
Nombre de nuitées réservées par mois
</td>
<td style="text-align:right;">
16.8
</td>
<td style="text-align:right;">
16.1
</td>
<td style="text-align:right;">
12.0
</td>
<td style="text-align:right;">
11.2
</td>
<td style="text-align:left;">
-28.3 %
</td>
<td style="text-align:left;">
-30.5 %
</td>
</tr>
<tr>
<td style="text-align:left;font-weight: bold;">
Taux de fréquentation mensuel (%)
</td>
<td style="text-align:right;">
71.4
</td>
<td style="text-align:right;">
69.0
</td>
<td style="text-align:right;">
51.1
</td>
<td style="text-align:right;">
45.9
</td>
<td style="text-align:left;">
-28.3 %
</td>
<td style="text-align:left;">
-33.5 %
</td>
</tr>
<tr>
<td style="text-align:left;font-weight: bold;">
Revenu mensuel médian ($)
</td>
<td style="text-align:right;">
977.0
</td>
<td style="text-align:right;">
1349.2
</td>
<td style="text-align:right;">
636.5
</td>
<td style="text-align:right;">
792.0
</td>
<td style="text-align:left;">
-34.9 %
</td>
<td style="text-align:left;">
-41.3 %
</td>
</tr>
</tbody>
</table>
<p><br><br></p>
</div>
<div id="bagneux---issy" class="section level1" number="2">
<h1 number="2"><span class="header-section-number">2</span> Bagneux - Issy</h1>
<p>Pour Bagneux et Issy, ces deux communes concentrent respectivement 335 et 1153 logements Airbnb en 2019, pour 47 et 848 chambres d’hôtel. Les deux communes comptent donc plus de logements Airbnb que de chambres d’hôtel. Les logements Airbnb représentent respectivement 1.9 et 3.2% de la totalité des logements des communes de Bagneux et Issy.</p>
<table class=" lightable-paper" style="font-family: &quot;Arial Narrow&quot;, arial, helvetica, sans-serif; width: auto !important; margin-left: auto; margin-right: auto;border-bottom: 0;">
<thead>
<tr>
<th style="empty-cells: hide;" colspan="1">
</th>
<th style="padding-bottom:0; padding-left:3px;padding-right:3px;text-align: center; " colspan="2">
<div style="border-bottom: 1px solid #00000020; padding-bottom: 5px; ">
Tous les logements
</div>
</th>
<th style="padding-bottom:0; padding-left:3px;padding-right:3px;text-align: center; " colspan="2">
<div style="border-bottom: 1px solid #00000020; padding-bottom: 5px; ">
Logements entiers
</div>
</th>
<th style="padding-bottom:0; padding-left:3px;padding-right:3px;text-align: center; " colspan="2">
<div style="border-bottom: 1px solid #00000020; padding-bottom: 5px; ">
Chambres privées
</div>
</th>
</tr>
<tr>
<th style="text-align:center;">
Indicateur ( 2019 )
</th>
<th style="text-align:center;">
Bagneux
</th>
<th style="text-align:center;">
Issy
</th>
<th style="text-align:center;">
Bagneux
</th>
<th style="text-align:center;">
Issy
</th>
<th style="text-align:center;">
Bagneux
</th>
<th style="text-align:center;">
Issy
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center;font-weight: bold;">
Nombre total de logements
</td>
<td style="text-align:center;">
335
</td>
<td style="text-align:center;">
1153
</td>
<td style="text-align:center;">
207
</td>
<td style="text-align:center;">
929
</td>
<td style="text-align:center;">
120
</td>
<td style="text-align:center;">
204
</td>
</tr>
<tr>
<td style="text-align:center;font-weight: bold;">
Nombre de logements actifs<sup>a</sup>
</td>
<td style="text-align:center;">
232
</td>
<td style="text-align:center;">
779
</td>
<td style="text-align:center;">
140
</td>
<td style="text-align:center;">
622
</td>
<td style="text-align:center;">
89
</td>
<td style="text-align:center;">
144
</td>
</tr>
<tr>
<td style="text-align:center;font-weight: bold;">
Nombre de logements réservés<sup>b</sup>
</td>
<td style="text-align:center;">
160
</td>
<td style="text-align:center;">
575
</td>
<td style="text-align:center;">
100
</td>
<td style="text-align:center;">
468
</td>
<td style="text-align:center;">
58
</td>
<td style="text-align:center;">
98
</td>
</tr>
</tbody>
<tfoot>
<tr>
<td style="padding: 0; " colspan="100%">
<sup>a</sup> Un logement est considéré comme actif s’il a été proposé au moins une nuitée sur l’année
</td>
</tr>
<tr>
<td style="padding: 0; " colspan="100%">
<sup>b</sup> Un logement est considéré comme réservé s’il a enregistré au moins une réservation au cours de l’année
</td>
</tr>
</tfoot>
</table>
<p>Le tableau suivant prend comme stock de référence les logements réservés. Le taux d’activité (nombre de logements réservés par rapport au nombre de logements actifs) est plus élevé dans la commune de Issy (73.81%) contre 68.97% dans la commune de Bagneux. On observe une différence sensible entre le prix moyen pratiqué entre les communes : il est de 35$ à Issy contre 27$ à Bagneux.</p>
<table class=" lightable-paper" style="font-family: &quot;Arial Narrow&quot;, arial, helvetica, sans-serif; width: auto !important; margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="empty-cells: hide;" colspan="1">
</th>
<th style="padding-bottom:0; padding-left:3px;padding-right:3px;text-align: center; " colspan="2">
<div style="border-bottom: 1px solid #00000020; padding-bottom: 5px; ">
Tous les logements
</div>
</th>
<th style="padding-bottom:0; padding-left:3px;padding-right:3px;text-align: center; " colspan="2">
<div style="border-bottom: 1px solid #00000020; padding-bottom: 5px; ">
Logements entiers
</div>
</th>
<th style="padding-bottom:0; padding-left:3px;padding-right:3px;text-align: center; " colspan="2">
<div style="border-bottom: 1px solid #00000020; padding-bottom: 5px; ">
Chambres privées
</div>
</th>
</tr>
<tr>
<th style="text-align:left;">
Indicateur ( 2019 )
</th>
<th style="text-align:right;">
Bagneux
</th>
<th style="text-align:right;">
Issy
</th>
<th style="text-align:right;">
Bagneux
</th>
<th style="text-align:right;">
Issy
</th>
<th style="text-align:right;">
Bagneux
</th>
<th style="text-align:right;">
Issy
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;font-weight: bold;">
Taux d’activité (%)
</td>
<td style="text-align:right;">
69
</td>
<td style="text-align:right;">
74
</td>
<td style="text-align:right;">
71
</td>
<td style="text-align:right;">
75
</td>
<td style="text-align:right;">
65
</td>
<td style="text-align:right;">
68
</td>
</tr>
<tr>
<td style="text-align:left;font-weight: bold;">
Prix par personne moyen
</td>
<td style="text-align:right;">
27
</td>
<td style="text-align:right;">
35
</td>
<td style="text-align:right;">
27
</td>
<td style="text-align:right;">
34
</td>
<td style="text-align:right;">
28
</td>
<td style="text-align:right;">
37
</td>
</tr>
<tr>
<td style="text-align:left;font-weight: bold;">
Taux de fréquentation moyen (%)
</td>
<td style="text-align:right;">
49
</td>
<td style="text-align:right;">
55
</td>
<td style="text-align:right;">
49
</td>
<td style="text-align:right;">
58
</td>
<td style="text-align:right;">
48
</td>
<td style="text-align:right;">
44
</td>
</tr>
<tr>
<td style="text-align:left;font-weight: bold;">
Nombre moyen de nuitées disponibles
</td>
<td style="text-align:right;">
163
</td>
<td style="text-align:right;">
146
</td>
<td style="text-align:right;">
145
</td>
<td style="text-align:right;">
143
</td>
<td style="text-align:right;">
198
</td>
<td style="text-align:right;">
164
</td>
</tr>
<tr>
<td style="text-align:left;font-weight: bold;">
Nombre moyen de nuitées réservées
</td>
<td style="text-align:right;">
80
</td>
<td style="text-align:right;">
80
</td>
<td style="text-align:right;">
72
</td>
<td style="text-align:right;">
83
</td>
<td style="text-align:right;">
96
</td>
<td style="text-align:right;">
73
</td>
</tr>
<tr>
<td style="text-align:left;font-weight: bold;">
Part de logements loués fréquemment (&gt;= 120 nuitées)
</td>
<td style="text-align:right;">
24
</td>
<td style="text-align:right;">
25
</td>
<td style="text-align:right;">
18
</td>
<td style="text-align:right;">
26
</td>
<td style="text-align:right;">
34
</td>
<td style="text-align:right;">
26
</td>
</tr>
<tr>
<td style="text-align:left;font-weight: bold;">
Part de logements loués occasionnellement (&lt;= 7 nuitées)
</td>
<td style="text-align:right;">
11
</td>
<td style="text-align:right;">
10
</td>
<td style="text-align:right;">
11
</td>
<td style="text-align:right;">
9
</td>
<td style="text-align:right;">
7
</td>
<td style="text-align:right;">
15
</td>
</tr>
<tr>
<td style="text-align:left;font-weight: bold;">
Part des séjours de moins de 7 jours
</td>
<td style="text-align:right;">
81
</td>
<td style="text-align:right;">
79
</td>
<td style="text-align:right;">
78
</td>
<td style="text-align:right;">
79
</td>
<td style="text-align:right;">
86
</td>
<td style="text-align:right;">
84
</td>
</tr>
<tr>
<td style="text-align:left;font-weight: bold;">
Part des séjours de 15 jours ou plus
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
3
</td>
</tr>
<tr>
<td style="text-align:left;font-weight: bold;">
Part de logements détenus par des multiloueurs
</td>
<td style="text-align:right;">
36
</td>
<td style="text-align:right;">
27
</td>
<td style="text-align:right;">
24
</td>
<td style="text-align:right;">
21
</td>
<td style="text-align:right;">
57
</td>
<td style="text-align:right;">
52
</td>
</tr>
<tr>
<td style="text-align:left;font-weight: bold;">
Revenu médian engendré par logement ($)
</td>
<td style="text-align:right;">
3404
</td>
<td style="text-align:right;">
4393
</td>
<td style="text-align:right;">
3538
</td>
<td style="text-align:right;">
5474
</td>
<td style="text-align:right;">
3184
</td>
<td style="text-align:right;">
2502
</td>
</tr>
</tbody>
</table>
<p>La durée moyenne des séjours ainsi que le nombre total de nuitées réservées représentent des indicateurs intéressants de l’activité d’Airbnb dans une ville : on dénombre respectivement 81 et 79% de séjours courts, c’est-à-dire inférieurs à une semaine, et environ un quart des logements ont engrangé plus de 120 nuitées réservées dans les deux communes. Les multiloueurs sont plus enclins à louer des chambres privées dans les deux communes : respectivement 57 et 52% d’entre elles sont louées par des multiloueurs. Enfin, la différence entre les prix pratiqués se répercute dans les revenus : les logements Airbnb de la commune de Issy ont engrangé un revenu médian de 4393$ en 2019, contre 3404$ à Bagneux, soit des revenus supérieurs de l’ordre de 29% à Issy.</p>
<p><img src="compar_files/figure-html/unnamed-chunk-36-1.png" width="672" /></p>
<p>Lorsque l’on s’intéresse à la distribution des revenus ainsi que des nuitées réservées, on observe une poignée de logements qui concentrent la majeure partie de l’activité dans les deux communes. En effet, dans la commune de Issy, 20% des logements concentrent 60.28% des revenus totaux contre 55.98% à Bagneux. On observe dans le second graphique que les nuitées sont plus concentrées dans la commune de Bagneux : 20% des logements y concentrent 52.24% des nuitées totales contre 51.52% à Issy.</p>
<p><img src="compar_files/figure-html/unnamed-chunk-42-1.png" width="672" /></p>
<br/><br/>
<div style="float:right;position: relative; top: -30px;">
<table style="width:20%; font-family: &quot;Arial Narrow&quot;, arial, helvetica, sans-serif; width: auto !important; margin-left: auto; margin-right: auto;" class=" lightable-paper">
<caption>
Top hôtes 2019
</caption>
<thead>
<tr>
<th style="empty-cells: hide;border-bottom:hidden;" colspan="1">
</th>
<th style="border-bottom:hidden;padding-bottom:0; padding-left:3px;padding-right:3px;text-align: center; " colspan="2">
<div style="border-bottom: 1px solid #ddd; padding-bottom: 5px; ">
Bagneux
</div>
</th>
<th style="border-bottom:hidden;padding-bottom:0; padding-left:3px;padding-right:3px;text-align: center; " colspan="2">
<div style="border-bottom: 1px solid #ddd; padding-bottom: 5px; ">
Issy
</div>
</th>
</tr>
<tr>
<th style="text-align:right;">
Rang
</th>
<th style="text-align:right;">
Revenus en 2019 ($)
</th>
<th style="text-align:right;">
Nombre de logements
</th>
<th style="text-align:right;">
Revenus en 2019 ($)
</th>
<th style="text-align:right;">
Nombre de logements
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:right;font-weight: bold;">
1
</td>
<td style="text-align:right;">
59478
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
284987
</td>
<td style="text-align:right;">
5
</td>
</tr>
<tr>
<td style="text-align:right;font-weight: bold;">
2
</td>
<td style="text-align:right;">
34347
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
95129
</td>
<td style="text-align:right;">
3
</td>
</tr>
<tr>
<td style="text-align:right;font-weight: bold;">
3
</td>
<td style="text-align:right;">
30636
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
88103
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:right;font-weight: bold;">
4
</td>
<td style="text-align:right;">
22632
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
74772
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:right;font-weight: bold;">
5
</td>
<td style="text-align:right;">
22467
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
61765
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:right;font-weight: bold;">
6
</td>
<td style="text-align:right;">
20396
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
61402
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:right;font-weight: bold;">
7
</td>
<td style="text-align:right;">
18439
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
53729
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:right;font-weight: bold;">
8
</td>
<td style="text-align:right;">
17808
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
50812
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:right;font-weight: bold;">
9
</td>
<td style="text-align:right;">
17352
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
49462
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:right;font-weight: bold;">
10
</td>
<td style="text-align:right;">
17144
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
43389
</td>
<td style="text-align:right;">
1
</td>
</tr>
</tbody>
</table>
</div>
<p>Si la majeure partie des nuitées et des revenus sont concentrés parmi un faible nombre de logements, c’est aussi le cas pour les hôtes : certains dépassent les 100.000$ de revenus dans la commune de Issy. Les plus grands rentiers ont engrangé respectivement près de 59000 et 285000$ à Bagneux et Issy en 2019. Ces revenus très élevés sont dûes en partie à la détention de plusieurs logements. Dans la commune de Bagneux, on trouve des multiloueurs propriétaires de 4 logements. À Issy, des propriétaires détiennent jusqu’à 5 logements. Parmi les 5 hôtes les plus fortunés, on retrouve 4 monoloueurs à Bagneux, et 3 à Issy.</p>
<p>Lorsque l’on s’intéresse à l’évolution de l’activité du marché depuis que airdna analyse les données (2016 à Bagneux et 2015 à Issy), on observe que le pic du nombre de nuitées réservées est atteint à Bagneux en juillet 2019 avec 82 logements réservés. À Issy, le pic apparaît plus tôt en juillet 2018 avec 294 logements réservés au cours de ce mois.</p>
<p><img src="compar_files/figure-html/unnamed-chunk-46-1.png" width="672" /></p>
<p><img src="compar_files/figure-html/unnamed-chunk-47-1.png" width="672" /></p>
<p>Enfin, lorsque l’on se concentre sur la période Covid, on observe sans surprise une baisse drastique de l’activité d’Airbnb dans la commune. Cette baisse s’observe notamment au niveau du comportement des visiteurs : on enregistre des baisses de l’ordre de -25.3 % et -30.5 % du nombre de nuitées réservées dans les deux communes. Les hôtes cependant n’ont pas pour autant diminué la disponibilité de leurs logements à Issy : on dénombre -0.1 % de nuitées disponibles en plus en 2020 par rapport à 2019. Le revenu mensuel médian quant à lui a chuté de respectivement -29.6 % et -41.3 %.</p>
<table>
<thead>
<tr>
<th style="empty-cells: hide;border-bottom:hidden;" colspan="1">
</th>
<th style="border-bottom:hidden;padding-bottom:0; padding-left:3px;padding-right:3px;text-align: center; " colspan="2">
<div style="border-bottom: 1px solid #ddd; padding-bottom: 5px; ">
2019
</div>
</th>
<th style="border-bottom:hidden;padding-bottom:0; padding-left:3px;padding-right:3px;text-align: center; " colspan="2">
<div style="border-bottom: 1px solid #ddd; padding-bottom: 5px; ">
2020
</div>
</th>
<th style="border-bottom:hidden;padding-bottom:0; padding-left:3px;padding-right:3px;text-align: center; " colspan="2">
<div style="border-bottom: 1px solid #ddd; padding-bottom: 5px; ">
Evolution
</div>
</th>
</tr>
<tr>
<th style="text-align:left;">
Indicateurs
</th>
<th style="text-align:right;">
Bagneux
</th>
<th style="text-align:right;">
Issy
</th>
<th style="text-align:right;">
Bagneux
</th>
<th style="text-align:right;">
Issy
</th>
<th style="text-align:left;">
Bagneux
</th>
<th style="text-align:left;">
Issy
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;font-weight: bold;">
Nombre de nuitées disponibles par mois
</td>
<td style="text-align:right;">
24.4
</td>
<td style="text-align:right;">
23.3
</td>
<td style="text-align:right;">
24.4
</td>
<td style="text-align:right;">
24.3
</td>
<td style="text-align:left;">
-0.1 %
</td>
<td style="text-align:left;">
4.5 %
</td>
</tr>
<tr>
<td style="text-align:left;font-weight: bold;">
Nombre de nuitées réservées par mois
</td>
<td style="text-align:right;">
16.2
</td>
<td style="text-align:right;">
16.1
</td>
<td style="text-align:right;">
12.1
</td>
<td style="text-align:right;">
11.2
</td>
<td style="text-align:left;">
-25.3 %
</td>
<td style="text-align:left;">
-30.5 %
</td>
</tr>
<tr>
<td style="text-align:left;font-weight: bold;">
Taux de fréquentation mensuel (%)
</td>
<td style="text-align:right;">
66.4
</td>
<td style="text-align:right;">
69.0
</td>
<td style="text-align:right;">
49.6
</td>
<td style="text-align:right;">
45.9
</td>
<td style="text-align:left;">
-25.3 %
</td>
<td style="text-align:left;">
-33.5 %
</td>
</tr>
<tr>
<td style="text-align:left;font-weight: bold;">
Revenu mensuel médian ($)
</td>
<td style="text-align:right;">
955.5
</td>
<td style="text-align:right;">
1349.2
</td>
<td style="text-align:right;">
673.0
</td>
<td style="text-align:right;">
792.0
</td>
<td style="text-align:left;">
-29.6 %
</td>
<td style="text-align:left;">
-41.3 %
</td>
</tr>
</tbody>
</table>
<p><br><br></p>
</div>
<div id="bagneux---pantin" class="section level1" number="3">
<h1 number="3"><span class="header-section-number">3</span> Bagneux - Pantin</h1>
<p>S’agissant de Bagneux et Pantin, ces communes concentrent respectivement 335 et 1238 logements Airbnb en 2019, pour 47 et 609 chambres d’hôtel. Les deux communes comptent donc plus de logements Airbnb que de chambres d’hôtel. Les logements Airbnb représentent respectivement 1.9 et 4.7% de la totalité des logements des communes de Bagneux et Pantin.</p>
<table class=" lightable-paper" style="font-family: &quot;Arial Narrow&quot;, arial, helvetica, sans-serif; width: auto !important; margin-left: auto; margin-right: auto;border-bottom: 0;">
<thead>
<tr>
<th style="empty-cells: hide;" colspan="1">
</th>
<th style="padding-bottom:0; padding-left:3px;padding-right:3px;text-align: center; " colspan="2">
<div style="border-bottom: 1px solid #00000020; padding-bottom: 5px; ">
Tous les logements
</div>
</th>
<th style="padding-bottom:0; padding-left:3px;padding-right:3px;text-align: center; " colspan="2">
<div style="border-bottom: 1px solid #00000020; padding-bottom: 5px; ">
Logements entiers
</div>
</th>
<th style="padding-bottom:0; padding-left:3px;padding-right:3px;text-align: center; " colspan="2">
<div style="border-bottom: 1px solid #00000020; padding-bottom: 5px; ">
Chambres privées
</div>
</th>
</tr>
<tr>
<th style="text-align:center;">
Indicateur ( 2019 )
</th>
<th style="text-align:center;">
Bagneux
</th>
<th style="text-align:center;">
Pantin
</th>
<th style="text-align:center;">
Bagneux
</th>
<th style="text-align:center;">
Pantin
</th>
<th style="text-align:center;">
Bagneux
</th>
<th style="text-align:center;">
Pantin
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center;font-weight: bold;">
Nombre total de logements
</td>
<td style="text-align:center;">
335
</td>
<td style="text-align:center;">
1238
</td>
<td style="text-align:center;">
207
</td>
<td style="text-align:center;">
918
</td>
<td style="text-align:center;">
120
</td>
<td style="text-align:center;">
288
</td>
</tr>
<tr>
<td style="text-align:center;font-weight: bold;">
Nombre de logements actifs<sup>a</sup>
</td>
<td style="text-align:center;">
232
</td>
<td style="text-align:center;">
898
</td>
<td style="text-align:center;">
140
</td>
<td style="text-align:center;">
676
</td>
<td style="text-align:center;">
89
</td>
<td style="text-align:center;">
204
</td>
</tr>
<tr>
<td style="text-align:center;font-weight: bold;">
Nombre de logements réservés<sup>b</sup>
</td>
<td style="text-align:center;">
160
</td>
<td style="text-align:center;">
650
</td>
<td style="text-align:center;">
100
</td>
<td style="text-align:center;">
493
</td>
<td style="text-align:center;">
58
</td>
<td style="text-align:center;">
147
</td>
</tr>
</tbody>
<tfoot>
<tr>
<td style="padding: 0; " colspan="100%">
<sup>a</sup> Un logement est considéré comme actif s’il a été proposé au moins une nuitée sur l’année
</td>
</tr>
<tr>
<td style="padding: 0; " colspan="100%">
<sup>b</sup> Un logement est considéré comme réservé s’il a enregistré au moins une réservation au cours de l’année
</td>
</tr>
</tfoot>
</table>
<p>Le tableau suivant prend comme stock de référence les logements réservés. Le taux d’activité (nombre de logements réservés par rapport au nombre de logements actifs) est plus élevé dans la commune de Pantin (72.38%) contre 68.97% dans la commune de Bagneux. On observe une très légère différence entre le prix moyen pratiqué entre les communes : il est de 27$ à Bagneux contre 25$ à Pantin.</p>
<table class=" lightable-paper" style="font-family: &quot;Arial Narrow&quot;, arial, helvetica, sans-serif; width: auto !important; margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="empty-cells: hide;" colspan="1">
</th>
<th style="padding-bottom:0; padding-left:3px;padding-right:3px;text-align: center; " colspan="2">
<div style="border-bottom: 1px solid #00000020; padding-bottom: 5px; ">
Tous les logements
</div>
</th>
<th style="padding-bottom:0; padding-left:3px;padding-right:3px;text-align: center; " colspan="2">
<div style="border-bottom: 1px solid #00000020; padding-bottom: 5px; ">
Logements entiers
</div>
</th>
<th style="padding-bottom:0; padding-left:3px;padding-right:3px;text-align: center; " colspan="2">
<div style="border-bottom: 1px solid #00000020; padding-bottom: 5px; ">
Chambres privées
</div>
</th>
</tr>
<tr>
<th style="text-align:left;">
Indicateur ( 2019 )
</th>
<th style="text-align:right;">
Bagneux
</th>
<th style="text-align:right;">
Pantin
</th>
<th style="text-align:right;">
Bagneux
</th>
<th style="text-align:right;">
Pantin
</th>
<th style="text-align:right;">
Bagneux
</th>
<th style="text-align:right;">
Pantin
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;font-weight: bold;">
Taux d’activité (%)
</td>
<td style="text-align:right;">
69
</td>
<td style="text-align:right;">
72
</td>
<td style="text-align:right;">
71
</td>
<td style="text-align:right;">
73
</td>
<td style="text-align:right;">
65
</td>
<td style="text-align:right;">
72
</td>
</tr>
<tr>
<td style="text-align:left;font-weight: bold;">
Prix par personne moyen
</td>
<td style="text-align:right;">
27
</td>
<td style="text-align:right;">
25
</td>
<td style="text-align:right;">
27
</td>
<td style="text-align:right;">
25
</td>
<td style="text-align:right;">
28
</td>
<td style="text-align:right;">
25
</td>
</tr>
<tr>
<td style="text-align:left;font-weight: bold;">
Taux de fréquentation moyen (%)
</td>
<td style="text-align:right;">
49
</td>
<td style="text-align:right;">
57
</td>
<td style="text-align:right;">
49
</td>
<td style="text-align:right;">
61
</td>
<td style="text-align:right;">
48
</td>
<td style="text-align:right;">
50
</td>
</tr>
<tr>
<td style="text-align:left;font-weight: bold;">
Nombre moyen de nuitées disponibles
</td>
<td style="text-align:right;">
163
</td>
<td style="text-align:right;">
146
</td>
<td style="text-align:right;">
145
</td>
<td style="text-align:right;">
133
</td>
<td style="text-align:right;">
198
</td>
<td style="text-align:right;">
182
</td>
</tr>
<tr>
<td style="text-align:left;font-weight: bold;">
Nombre moyen de nuitées réservées
</td>
<td style="text-align:right;">
80
</td>
<td style="text-align:right;">
83
</td>
<td style="text-align:right;">
72
</td>
<td style="text-align:right;">
81
</td>
<td style="text-align:right;">
96
</td>
<td style="text-align:right;">
91
</td>
</tr>
<tr>
<td style="text-align:left;font-weight: bold;">
Part de logements loués fréquemment (&gt;= 120 nuitées)
</td>
<td style="text-align:right;">
24
</td>
<td style="text-align:right;">
24
</td>
<td style="text-align:right;">
18
</td>
<td style="text-align:right;">
24
</td>
<td style="text-align:right;">
34
</td>
<td style="text-align:right;">
27
</td>
</tr>
<tr>
<td style="text-align:left;font-weight: bold;">
Part de logements loués occasionnellement (&lt;= 7 nuitées)
</td>
<td style="text-align:right;">
11
</td>
<td style="text-align:right;">
9
</td>
<td style="text-align:right;">
11
</td>
<td style="text-align:right;">
9
</td>
<td style="text-align:right;">
7
</td>
<td style="text-align:right;">
9
</td>
</tr>
<tr>
<td style="text-align:left;font-weight: bold;">
Part des séjours de moins de 7 jours
</td>
<td style="text-align:right;">
81
</td>
<td style="text-align:right;">
75
</td>
<td style="text-align:right;">
78
</td>
<td style="text-align:right;">
74
</td>
<td style="text-align:right;">
86
</td>
<td style="text-align:right;">
78
</td>
</tr>
<tr>
<td style="text-align:left;font-weight: bold;">
Part des séjours de 15 jours ou plus
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;font-weight: bold;">
Part de logements détenus par des multiloueurs
</td>
<td style="text-align:right;">
36
</td>
<td style="text-align:right;">
30
</td>
<td style="text-align:right;">
24
</td>
<td style="text-align:right;">
24
</td>
<td style="text-align:right;">
57
</td>
<td style="text-align:right;">
47
</td>
</tr>
<tr>
<td style="text-align:left;font-weight: bold;">
Revenu médian engendré par logement ($)
</td>
<td style="text-align:right;">
3404
</td>
<td style="text-align:right;">
3714
</td>
<td style="text-align:right;">
3538
</td>
<td style="text-align:right;">
4050
</td>
<td style="text-align:right;">
3184
</td>
<td style="text-align:right;">
2867
</td>
</tr>
</tbody>
</table>
<p>La durée moyenne des séjours ainsi que le nombre total de nuitées réservées représentent des indicateurs intéressants de l’activité d’Airbnb dans une ville : on dénombre respectivement 81 et 75% de séjours courts, c’est-à-dire inférieurs à une semaine, et environ un quart des logements ont engrangé plus de 120 nuitées réservées dans les deux communes. Les multiloueurs sont plus enclins à louer des chambres privées dans les deux communes : respectivement 57 et 47% d’entre elles sont louées par des multiloueurs. Enfin, la ville qui pratique les prix les plus élevés n’est pas forcément celle où les hôtes engrangent le plus de revenus : les logements Airbnb de la commune de Pantin ont engrangé un revenu médian de 3714$ en 2019, contre 3404$ à Bagneux, soit des revenus supérieurs de l’ordre de 9% à Pantin.</p>
<p><img src="compar_files/figure-html/unnamed-chunk-60-1.png" width="672" /></p>
<p>Lorsque l’on s’intéresse à la distribution des revenus ainsi que des nuitées réservées, on observe une poignée de logements qui concentrent la majeure partie de l’activité dans les deux communes. En effet, dans la commune de Bagneux, 20% des logements concentrent 55.98% des revenus totaux contre 55.64% à Pantin. On observe dans le second graphique que les nuitées sont plus concentrées dans la commune de Bagneux : 20% des logements y concentrent 52.24% des nuitées totales contre 51.9% à Pantin.</p>
<p><img src="compar_files/figure-html/unnamed-chunk-66-1.png" width="672" /></p>
<br/><br/>
<div style="float:right;position: relative; top: -30px;">
<table style="width:20%; font-family: &quot;Arial Narrow&quot;, arial, helvetica, sans-serif; width: auto !important; margin-left: auto; margin-right: auto;" class=" lightable-paper">
<caption>
Top hôtes 2019
</caption>
<thead>
<tr>
<th style="empty-cells: hide;border-bottom:hidden;" colspan="1">
</th>
<th style="border-bottom:hidden;padding-bottom:0; padding-left:3px;padding-right:3px;text-align: center; " colspan="2">
<div style="border-bottom: 1px solid #ddd; padding-bottom: 5px; ">
Bagneux
</div>
</th>
<th style="border-bottom:hidden;padding-bottom:0; padding-left:3px;padding-right:3px;text-align: center; " colspan="2">
<div style="border-bottom: 1px solid #ddd; padding-bottom: 5px; ">
Pantin
</div>
</th>
</tr>
<tr>
<th style="text-align:right;">
Rang
</th>
<th style="text-align:right;">
Revenus en 2019 ($)
</th>
<th style="text-align:right;">
Nombre de logements
</th>
<th style="text-align:right;">
Revenus en 2019 ($)
</th>
<th style="text-align:right;">
Nombre de logements
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:right;font-weight: bold;">
1
</td>
<td style="text-align:right;">
59478
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
176584
</td>
<td style="text-align:right;">
11
</td>
</tr>
<tr>
<td style="text-align:right;font-weight: bold;">
2
</td>
<td style="text-align:right;">
34347
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
67829
</td>
<td style="text-align:right;">
5
</td>
</tr>
<tr>
<td style="text-align:right;font-weight: bold;">
3
</td>
<td style="text-align:right;">
30636
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
53118
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:right;font-weight: bold;">
4
</td>
<td style="text-align:right;">
22632
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
37056
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:right;font-weight: bold;">
5
</td>
<td style="text-align:right;">
22467
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
35407
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:right;font-weight: bold;">
6
</td>
<td style="text-align:right;">
20396
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
32003
</td>
<td style="text-align:right;">
3
</td>
</tr>
<tr>
<td style="text-align:right;font-weight: bold;">
7
</td>
<td style="text-align:right;">
18439
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
29924
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:right;font-weight: bold;">
8
</td>
<td style="text-align:right;">
17808
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
29413
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:right;font-weight: bold;">
9
</td>
<td style="text-align:right;">
17352
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
29186
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:right;font-weight: bold;">
10
</td>
<td style="text-align:right;">
17144
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
29116
</td>
<td style="text-align:right;">
12
</td>
</tr>
</tbody>
</table>
</div>
<p>Si la majeure partie des nuitées et des revenus sont concentrés parmi un faible nombre de logements, c’est aussi le cas pour les hôtes : certains dépassent les 100.000$ de revenus dans la commune de Pantin. Les plus grands rentiers ont engrangé respectivement près de 59000 et 177000$ à Bagneux et Pantin en 2019. Ces revenus très élevés sont dûes en partie à la détention de plusieurs logements. Dans la commune de Bagneux, on trouve des multiloueurs propriétaires de 4 logements. À Pantin, des propriétaires détiennent jusqu’à 12 logements. Parmi les 5 hôtes les plus fortunés, on retrouve 4 monoloueurs à Bagneux, et 2 à Pantin.</p>
<p>Lorsque l’on s’intéresse à l’évolution de l’activité du marché depuis que airdna analyse les données (2016 à Bagneux et 2016 à Pantin), on observe que le pic du nombre de nuitées réservées est atteint à Bagneux en juillet 2019 avec 82 logements réservés. À Pantin, le pic apparaît la même année en juillet 2019 avec 350 logements réservés au cours de ce mois.</p>
<p><img src="compar_files/figure-html/unnamed-chunk-70-1.png" width="672" /></p>
<p><img src="compar_files/figure-html/unnamed-chunk-71-1.png" width="672" /></p>
<p>Enfin, lorsque l’on se concentre sur la période Covid, on observe sans surprise une baisse drastique de l’activité d’Airbnb dans la commune. Cette baisse s’observe notamment au niveau du comportement des visiteurs : on enregistre des baisses de l’ordre de -25.3 % et -28.3 % du nombre de nuitées réservées dans les deux communes. Les hôtes cependant n’ont pas pour autant diminué la disponibilité de leurs logements à Pantin : on dénombre -0.1 % de nuitées disponibles en plus en 2020 par rapport à 2019. Le revenu mensuel médian quant à lui a chuté de respectivement -29.6 % et -34.9 %.</p>
<table>
<thead>
<tr>
<th style="empty-cells: hide;border-bottom:hidden;" colspan="1">
</th>
<th style="border-bottom:hidden;padding-bottom:0; padding-left:3px;padding-right:3px;text-align: center; " colspan="2">
<div style="border-bottom: 1px solid #ddd; padding-bottom: 5px; ">
2019
</div>
</th>
<th style="border-bottom:hidden;padding-bottom:0; padding-left:3px;padding-right:3px;text-align: center; " colspan="2">
<div style="border-bottom: 1px solid #ddd; padding-bottom: 5px; ">
2020
</div>
</th>
<th style="border-bottom:hidden;padding-bottom:0; padding-left:3px;padding-right:3px;text-align: center; " colspan="2">
<div style="border-bottom: 1px solid #ddd; padding-bottom: 5px; ">
Evolution
</div>
</th>
</tr>
<tr>
<th style="text-align:left;">
Indicateurs
</th>
<th style="text-align:right;">
Bagneux
</th>
<th style="text-align:right;">
Pantin
</th>
<th style="text-align:right;">
Bagneux
</th>
<th style="text-align:right;">
Pantin
</th>
<th style="text-align:left;">
Bagneux
</th>
<th style="text-align:left;">
Pantin
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;font-weight: bold;">
Nombre de nuitées disponibles par mois
</td>
<td style="text-align:right;">
24.4
</td>
<td style="text-align:right;">
23.5
</td>
<td style="text-align:right;">
24.4
</td>
<td style="text-align:right;">
23.5
</td>
<td style="text-align:left;">
-0.1 %
</td>
<td style="text-align:left;">
0 %
</td>
</tr>
<tr>
<td style="text-align:left;font-weight: bold;">
Nombre de nuitées réservées par mois
</td>
<td style="text-align:right;">
16.2
</td>
<td style="text-align:right;">
16.8
</td>
<td style="text-align:right;">
12.1
</td>
<td style="text-align:right;">
12.0
</td>
<td style="text-align:left;">
-25.3 %
</td>
<td style="text-align:left;">
-28.3 %
</td>
</tr>
<tr>
<td style="text-align:left;font-weight: bold;">
Taux de fréquentation mensuel (%)
</td>
<td style="text-align:right;">
66.4
</td>
<td style="text-align:right;">
71.4
</td>
<td style="text-align:right;">
49.6
</td>
<td style="text-align:right;">
51.1
</td>
<td style="text-align:left;">
-25.3 %
</td>
<td style="text-align:left;">
-28.3 %
</td>
</tr>
<tr>
<td style="text-align:left;font-weight: bold;">
Revenu mensuel médian ($)
</td>
<td style="text-align:right;">
955.5
</td>
<td style="text-align:right;">
977.0
</td>
<td style="text-align:right;">
673.0
</td>
<td style="text-align:right;">
636.5
</td>
<td style="text-align:left;">
-29.6 %
</td>
<td style="text-align:left;">
-34.9 %
</td>
</tr>
</tbody>
</table>
</div>



</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->

<script>
$(document).ready(function ()  {

    // temporarily add toc-ignore selector to headers for the consistency with Pandoc
    $('.unlisted.unnumbered').addClass('toc-ignore')

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_');
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
